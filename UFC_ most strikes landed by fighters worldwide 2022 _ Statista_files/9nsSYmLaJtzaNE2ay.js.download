/* generated at: 2024-03-28T00:07:54.477Z */
(function(){var __webpack_modules__={676:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{Z:function(){return i}})},9968:function(e,t,n){"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return i}})},3614:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(676);function r(e){if(Array.isArray(e))return(0,i.Z)(e)}},3349:function(e,t,n){"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return i}})},2137:function(e,t,n){"use strict";function i(e,t,n,i,r,o,a){try{var s=e[o](a),_=s.value}catch(e){return void n(e)}s.done?t(_):Promise.resolve(_).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,_,"next",e)}function _(e){i(a,r,o,s,_,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return r}})},6610:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return i}})},6481:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(4665),r=n(1814);function o(e,t,n){return o=(0,r.Z)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&(0,i.Z)(o,n.prototype),o},o.apply(null,arguments)}},5991:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return r}})},6156:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return i}})},7608:function(e,t,n){"use strict";function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}n.d(t,{Z:function(){return i}})},379:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(4665);function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,i.Z)(e,t)}},513:function(e,t,n){"use strict";function i(e){return-1!==Function.toString.call(e).indexOf("[native code]")}n.d(t,{Z:function(){return i}})},1814:function(e,t,n){"use strict";function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return i}})},6410:function(e,t,n){"use strict";function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return i}})},692:function(e,t,n){"use strict";function i(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}n.d(t,{Z:function(){return i}})},8970:function(e,t,n){"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return i}})},2303:function(e,t,n){"use strict";function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return i}})},6070:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(484),r=n(3349);function o(e,t){if(t&&("object"===(0,i.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.Z)(e)}},4665:function(e,t,n){"use strict";function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}n.d(t,{Z:function(){return i}})},4738:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(9968),r=n(692),o=n(2961),a=n(8970);function s(e,t){return(0,i.Z)(e)||(0,r.Z)(e,t)||(0,o.Z)(e,t)||(0,a.Z)()}},8927:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(3614),r=n(6410),o=n(2961),a=n(2303);function s(e){return(0,i.Z)(e)||(0,r.Z)(e)||(0,o.Z)(e)||(0,a.Z)()}},484:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:function(){return i}})},2961:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(676);function r(e,t){if(e){if("string"==typeof e)return(0,i.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.Z)(e,t):void 0}}},3415:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(7608),r=n(4665),o=n(513),a=n(6481);function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||!(0,o.Z)(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,a.Z)(e,arguments,(0,i.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,r.Z)(n,e)},s(e)}},7757:function(e,t,n){e.exports=n(5666)},3035:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var i=n(484),r=n(6156),o=n(6610),a=n(5991),s=n(2238),_=n.n(s),c=n(3705),u=n(1078),l=n(1624),f=n(5632),h=n(3114),d=n(3723),p=n(7159);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E="GET",m="POST",v="conversions",P="delivered",w="clicked",I=function(){function e(t){(0,o.Z)(this,e),this.channelId=t,this.originalChannelId=t,this.confirmAlertTestId=void 0,this.endpoint=(0,d.Lq)(),this.regionEnabled=!1}return(0,a.Z)(e,[{key:"setConfirmAlertTestId",value:function(e){this.confirmAlertTestId=e}},{key:"request",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,u.tI)("request",e,t,n);var r=b({method:E,headers:{Accept:"application/json"}},i);return e&&(r.method=e),n&&(this.authorizerToken&&(n.subscriptionToken=this.authorizerToken),r.body=JSON.stringify(b({sdkVersion:"1.1.0"},n)),r.headers["Content-Type"]="application/json"),(0,l.Z)(this.endpoint+t,r)}},{key:"getChannelConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="/channel/".concat(this.channelId,"/config");if(e){n+="?confirmAlertTestsEnabled=true";var i=new(_())(navigator.userAgent),r=i.getOS();r.name&&(n+="&platformName=".concat(r.name))}return t&&(n+="?bypassCache=true"),this.request(E,n,null)}},{key:"tagSubscription",value:function(e,t){var n={channelId:this.channelId,tagId:t,subscriptionId:e};return this.request(m,"/subscription/tag",n)}},{key:"untagSubscription",value:function(e,t){var n={channelId:this.channelId,tagId:t,subscriptionId:e};return this.request(m,"/subscription/untag",n)}},{key:"setSubscriptionAttribute",value:function(e,t,n){var i={channelId:this.channelId,attributeId:t,value:n,subscriptionId:e};return this.request(m,"/subscription/attribute",i)}},{key:"pushSubscriptionAttributeValue",value:function(e,t,n){var i={channelId:this.channelId,attributeId:t,value:n,subscriptionId:e};return this.request(m,"/subscription/attribute/push-value",i)}},{key:"pullSubscriptionAttributeValue",value:function(e,t,n){var i={channelId:this.channelId,attributeId:t,value:n,subscriptionId:e};return this.request(m,"/subscription/attribute/pull-value",i)}},{key:"triggerFollowUpEvent",value:function(e,t,n,i,r,o,a){var s={channelId:this.channelId,subscriptionId:e,campaignId:t,notificationId:n,name:i,parameters:r,fromNotification:o,bypassInactive:a};if("triggerArticleBounce"===i&&"function"==typeof navigator.sendBeacon){var _=new Blob([JSON.stringify(s)],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon("".concat(this.endpoint,"/subscription/event"),_)}return this.request(m,"/subscription/event",s)}},{key:"triggerJourneyEvent",value:function(e,t,n,i,r,o,a){var s={channelId:this.channelId,subscriptionId:e,journeyId:t,notificationId:n,fromNotification:i,type:o,name:r,parameters:a};if("triggerArticleBounce"===r&&"function"==typeof navigator.sendBeacon){var _=new Blob([JSON.stringify(s)],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon("".concat(this.endpoint,"/subscription/journey-event"),_)}return this.request(m,"/subscription/journey-event",s)}},{key:"trackConversion",value:function(e,t,n,i,r){var o={channelId:this.channelId,subscriptionId:e,notificationId:t,eventId:n,properties:i};return void 0!==r&&(o.minutes=r),this.request(m,"/subscription/conversion",o)}},{key:"trackWidget",value:function(e,t,n,i){return this.request(m,"/channel/".concat(this.channelId,"/widget/").concat(t),{widgetChannelId:this.channelId,widgetId:e,widgetTestId:n,platform:i})}},{key:"trackPanel",value:function(e,t){return this.request(m,"/channel/".concat(this.channelId,"/panel/").concat(t),{channelId:this.channelId,notificationId:e})}},{key:"trackBounce",value:function(e){var t=b({channelId:this.channelId},e||{}),n=new(_())(navigator.userAgent),i=n.getBrowser(),r=n.getOS();if(t.platformName=r.name||void 0,t.browserType=i.name||void 0,"function"==typeof navigator.sendBeacon){try{(0,u.tI)("sendBeacon",m,"".concat(this.endpoint,"/notification/bounced"),t)}catch(e){u.cM.error(e)}var o=new Blob([JSON.stringify(t)],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon("".concat(this.endpoint,"/notification/bounced"),o)}return this.request(m,"/notification/bounced",t)}},{key:"getSyncParameters",value:function(e){var t,n,i,r;(0,u.tI)("getSyncParameters");var o=new(_())(navigator.userAgent),a=o.getBrowser(),s=o.getOS(),d=(a.version||"").split(".")[0],p=(s.version||"").split(".")[0],g={channelId:this.channelId,browserType:a.name||void 0,browserVersion:d||a.version||void 0,platformName:s.name||void 0,platformVersion:p||s.version||void 0},b=location.pathname;b&&(g.pathname=b);try{if("undefined"!=typeof sessionStorage){var E=sessionStorage.getItem("cleverpush-referrer")||document.referrer.split("?")[0];E&&(g.referrer=E);var m=sessionStorage.getItem("cleverpush-referral-subscription-id");m&&(g.referralSubscriptionId=m)}if("undefined"!=typeof localStorage){var v=localStorage.getItem("cleverpush-visits")||0;isNaN(v)||(g.visits="".concat(v)),"was-denied"!==localStorage.getItem("subscription-status")&&"denied"!==localStorage.getItem("subscription-status")||(g.wasDenied=!0)}}catch(e){}var P=(0,h.ej)(null===(t=self)||void 0===t||null===(n=t.CleverPush)||void 0===n?void 0:n.config);if(P&&(g.language=P),this.confirmAlertTestId&&(g.confirmAlertTestId=this.confirmAlertTestId),this.testSubscription&&(g.testSubscription=this.testSubscription),void 0!==e&&e)return g;var w=[];if(null!==(i=self.CleverPush)&&void 0!==i&&null!==(r=i.config)&&void 0!==r&&r.geoipApiEndpoint){var I=new c.Z((function(e){var t,n;(0,l.Z)(null===(t=self.CleverPush)||void 0===t||null===(n=t.config)||void 0===n?void 0:n.geoipApiEndpoint,{mode:"cors",timeout:3e3}).then((function(t){g=Object.assign(g,t),e()})).catch((function(t){u.cM.error(t),e()}))}));w.push(I)}if(self.CleverPush&&self.CleverPush.config&&self.CleverPush.config.pianoEnabled&&self.CleverPush.config.pianoPublicPersistedId)try{var O=new c.Z((function(e){(0,f.Cu)().then((function(t){var n=t.segments;g.pianoSegments=n,e()})).catch(e)}));w.push(O)}catch(e){u.cM.info("Error getting Piano Segments",e)}return c.Z.all(w).then((function(){return c.Z.resolve(g)}))}},{key:"syncSubscription",value:function(e,t,n,r){var o=this;if((0,u.tI)("syncSubscription",e,t),!e)return c.Z.reject();var a="object"===(0,i.Z)(r)?r:{};return this.getSyncParameters().then((function(r){a=Object.assign(a,r);var s=parseInt(a.browserVersion,10);if(o.regionEnabled||delete a.region,"object"===(0,i.Z)(t)&&t&&!isNaN(t.length)){var _=0;try{var u=localStorage.getItem("cleverpush-topics-version");u&&!isNaN(u)&&(_=parseInt(u,10))}catch(e){}_+=1,a.topics=t,a.topicsVersion=_}if("object"===(0,i.Z)(n)&&n&&n.length&&(a.tags=n),a.existingPermission&&delete a.confirmAlertTestId,o.fromBellWidget&&(a.fromBellWidget=o.fromBellWidget),o.widgetId&&(a.widgetId=o.widgetId,a.widgetChannelId=o.widgetChannelId||a.channelId),o.widgetTestId&&(a.widgetTestId=o.widgetTestId),e.facebookUserRef&&(a.facebookUserRef=e.facebookUserRef,"undefined"!=typeof self&&self.CleverPush&&self.CleverPush.config&&self.CleverPush.config.multiChannels&&self.CleverPush.config.multiChannels.facebookChannel._id!==a.channelId&&(a.channelId=self.CleverPush.config.multiChannels.facebookChannel._id)),"Safari"===a.browserType&&"object"===(0,i.Z)(e)&&e.deviceToken)a.apnsToken=e.deviceToken;else if("string"==typeof e)a.subscriptionId=e;else if("Chrome"===a.browserType&&s>=42&&s<50)a.endpoint=e.endpoint;else if(a.endpoint=e.endpoint,void 0!==e.getKey){var l=e.getKey?e.getKey("p256dh"):null,f=null;("Firefox"!==a.browserType||"Firefox"===a.browserType&&s>=46)&&(f=e.getKey?e.getKey("auth"):null),l&&(a.publicKey=btoa(String.fromCharCode.apply(null,new Uint8Array(l)))),f&&(a.authSecret=btoa(String.fromCharCode.apply(null,new Uint8Array(f))))}return new c.Z((function(e,t){return o.request(m,"/subscription/sync/".concat(o.channelId),a).then((function(n){n&&n.id?e(n):n&&n.error?t(n.error):t()})).catch((function(e){e.reason?t(e.reason):e.status?t(e.status):t(e)}))}))}))}},{key:"unsubscribe",value:function(e){var t=this;return new c.Z((function(n){t.request(m,"/subscription/unsubscribe",{subscriptionId:e,channelId:t.channelId}).then(n).catch(n)}))}},{key:"unsubscribeFeedback",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new c.Z((function(i){t.request(m,"/subscription/unsubscribe/feedback",{type:e,text:n,channelId:t.channelId}).then(i).catch(i)}))}},{key:"startSession",value:function(e,t){var n=this;return new c.Z((function(i){n.request(m,"/subscription/session/start",b({subscriptionId:e,channelId:n.channelId},t||{})).then(i).catch(i)}))}},{key:"endSession",value:function(e,t){var n=new Blob([JSON.stringify(b({subscriptionId:e,channelId:this.channelId},t))],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon("".concat(this.endpoint,"/subscription/session/end"),n)}},{key:"trackSessionImpression",value:function(e,t){var n=this;return new c.Z((function(i){n.request(m,"/subscription/session/impression",{subscriptionId:e,notificationId:t,channelId:n.channelId}).then(i).catch(i)}))}},{key:"confirmAlertShown",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"confirm-alert",n=!0,i="cleverpush-".concat(t,"-reported"),r=2,o=sessionStorage.getItem(i);if(o){var a=parseInt(o,10);isNaN(a)||(n=a+36e5*r<Date.now())}if(n){sessionStorage.setItem(i,Date.now());var s={channelId:this.channelId,confirmAlertTestId:this.confirmAlertTestId},u=new(_())(navigator.userAgent),l=u.getBrowser(),f=u.getOS();if(s.platformName=f.name||void 0,s.browserType=l.name||void 0,void 0!==e&&e&&(s.existingPermission=!0,delete s.confirmAlertTestId),"undefined"!=typeof window&&window.CleverPush&&window.CleverPush.config.trackOptInPathnames){var h=location.pathname;h&&(s.pathname=h)}if(this.widgetId&&(s.widgetId=this.widgetId),"undefined"!=typeof window&&window.CleverPush&&window.CleverPush.config.trackOptInReferrers)try{if("undefined"!=typeof sessionStorage){var d=sessionStorage.getItem("cleverpush-referrer")||document.referrer.split("?")[0];d&&(s.referrer=d)}}catch(e){}return"undefined"==typeof localStorage||"was-denied"!==localStorage.getItem("subscription-status")&&"denied"!==localStorage.getItem("subscription-status")||(s.wasDenied=!0),this.request(m,"/channel/".concat(t),s)}return c.Z.resolve()}},{key:"trackOptInVisitor",value:function(){var e={channelId:this.channelId,confirmAlertTestId:this.confirmAlertTestId};return this.widgetId&&(e.widgetId=this.widgetId),this.request(m,"/channel/optin-visitor",e)}},{key:"confirmAlertDenied",value:function(){var e={channelId:this.channelId,confirmAlertTestId:this.confirmAlertTestId};return this.widgetId&&(e.widgetId=this.widgetId),e.existingPermission&&delete e.confirmAlertTestId,this.request(m,"/channel/blocked-optin-request",e)}},{key:"generateWalletPass",value:function(e,t){var n=this;return new c.Z((function(i,r){n.request(m,"/channel/".concat(n.channelId,"/wallet-pass/").concat(e,"/subscribe"),b({walletPassId:e},t)).then(i).catch(r)}))}},{key:"trackWebBannerEvent",value:function(e,t,n,i){var r="/web-banner/event/".concat(e),o={bannerId:t,elementId:n,testId:i,channelId:this.channelId};if(e===v){var a=JSON.parse(sessionStorage.getItem("cleverpush-shown-web-banners"))||{};o.shownWebBanners=a}if(e!==P&&e!==w||(o.browser=(0,p.g_)()),"function"==typeof navigator.sendBeacon){var s=new Blob([JSON.stringify(o)],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon("".concat(this.endpoint).concat(r),s)}return this.request(m,r,o)}},{key:"trackAppDownloadBannerEvent",value:function(e){var t="/app-download-banner/event/".concat(e),n={channelId:this.originalChannelId||this.channelId};if("function"==typeof navigator.sendBeacon){var i=new Blob([JSON.stringify(n)],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon("".concat(this.endpoint).concat(t),i)}return this.request(m,t,n)}},{key:"getSocialFeedWidget",value:function(e){var t="/channel/".concat(this.channelId,"/social-feed-widget/").concat(e);return this.request(E,t)}},{key:"getWidget",value:function(e){var t="/widgets/".concat(e);return this.request(E,t)}}]),e}()},6128:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return CleverPush}});var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(4738),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(8927),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7757),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(484),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(2137),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7608),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6156),wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4795),wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_4__),promise_polyfill__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3705),_utils_polyfills__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5401),_utils_polyfills__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_utils_polyfills__WEBPACK_IMPORTED_MODULE_6__),_utils_debug__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1078),_utils_dom__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5895),_api__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3035),_messenger_command__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2136),_utils_request__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1624),_utils_detect__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6716),_utils_translate__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(3114),_utils_tags__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(9800),_utils_piano__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5632),_utils_adblock__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1328),_const_customCssOverrides__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1317),_const_event__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2034),_error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4740),_utils_env__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7159),_const_common__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(155),_utils_matchElementPathAndDomain__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(3234),_utils_randomTestVariant__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(192),_utils_triggerJourneysAndFollowUps__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(1759),_MILLISECOND_UNIT;function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.Z)(e);if(t){var r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var MOBILE_SCROLL_POSITION_DELAY_VALUE=50,MOBILE_DELTA_VALUE=-80,MOBILE_EXIT_INTENT_LOCATION_HASH="#!/showMobileExitIntentPopup",WEB_BANNER="webBanner",WIDGET="widget",OPT_INS="optIns",TIME_UNITS={MINUTES:"MINUTES",HOUR:"HOUR",DAYS:"DAYS",SECONDS:"SECONDS"},BANNER_BEHAVIOUR_PER_SESSION="perSession",MILLISECOND_UNIT=(_MILLISECOND_UNIT={},(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)(_MILLISECOND_UNIT,TIME_UNITS.MINUTES,6e4),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)(_MILLISECOND_UNIT,TIME_UNITS.HOUR,36e5),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)(_MILLISECOND_UNIT,TIME_UNITS.DAYS,864e5),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)(_MILLISECOND_UNIT,TIME_UNITS.SECONDS,1e3),_MILLISECOND_UNIT),ADDITIONAL_CONVERSION_EXPIRATIONS=[{value:24,unit:TIME_UNITS.HOUR},{value:7,unit:TIME_UNITS.DAYS},{value:30,unit:TIME_UNITS.DAYS}],CLEVERPUSH_EXIT_INTENT_SHOWN="cleverpush-exit-intent-shown",SESSION_BANNER_DISPLAY_KEY="cleverpush-banner-shown-current-session",convertMSToMinutes=function(e){return e/6e4},convertMinutesToMS=function(e){return 60*e*1e3},ADDITIONAL_CONVERSION_EXPIRATIONS_MINUTES=ADDITIONAL_CONVERSION_EXPIRATIONS.map((function(e){return convertMSToMinutes(e.value*MILLISECOND_UNIT[e.unit])})),TRACK_EVENTS={CONVERSIONS:"conversions"},CleverPush=function(_EventEmitter){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_25__.Z)(CleverPush,_EventEmitter);var _super=_createSuper(CleverPush),_processJourneyElement,_getNotifications,_initSpeechbubblePanels,_updateSpeechbubblePanelUnread;function CleverPush(){var _this;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_26__.Z)(this,CleverPush),_this=_super.call(this),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_27__.Z)(_this),"applyConfirmAlertFilter",function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t,n){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==t.autoRegister&&(_this.config.autoRegister=t.autoRegister),void 0!==t.minimumVisits&&(_this.config.alertMinimumVisits=t.minimumVisits),void 0!==t.scrollPercentage&&(_this.config.alertScrollPercentage=t.scrollPercentage),void 0!==t.timeout&&(_this.config.alertTimeout=1e3*t.timeout),void 0!==t.localizationTitle&&(_this.config.alertLocalization=_objectSpread(_objectSpread({},_this.config.alertLocalization),{},{title:t.localizationTitle})),void 0!==t.localizationInfo&&(_this.config.alertLocalization=_objectSpread(_objectSpread({},_this.config.alertLocalization),{},{info:t.localizationInfo})),void 0!==t.radioButtonTopics&&(_this.config.confirmAlertRadioButtonTopics=t.radioButtonTopics),void 0!==t.requireTopics&&(_this.config.confirmAlertRequireChannelTopics=t.requireTopics),void 0!==t.nativeTheme&&(_this.config.confirmAlertNativeTheme=t.nativeTheme),void 0!==t.customCss&&(_this.config.customCss||(_this.config.customCss=""),_this.config.customCss+=t.customCss),"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(t.config)&&(Object.keys(t.config||{}).forEach((function(e){if("alertLocalization"===e)_this.config[e]=_objectSpread(_objectSpread({},_this.config[e]),t.config[e]);else if(0===e.indexOf("alertLocalization")){_this.config.alertLocalization||(_this.config.alertLocalization={});var n=e.substr("alertLocalization".length);_this.config.alertLocalization[n.substr(0,1).toLowerCase()+n.substr(1)]=t.config[e]}else"serviceWorkerPath"===e?_this.config.serviceWorkerFile=t.config[e]:"customCss"===e?(_this.config.customCss||(_this.config.customCss=""),_this.config.customCss+=t.config.customCss):_this.config[e]=t.config[e]})),t.config.alertTimeout&&t.config.alertTimeout<1e3&&(_this.config.alertTimeout=1e3*t.config.alertTimeout),t.config&&t.config.facebookOptIn&&"facebook"!==_this.browserType&&(_this.browserType="facebook",_this.setFacebookChannelConfig(n),_this.importSubscriptionManager("facebookManager",t.type)));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_27__.Z)(_this),"checkFilterConditions",(function(filter){var configParams=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},isForTest=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(filter.type){case"device":var isDesktop="desktop"===filter.value,isMobile="mobile"===filter.value,isBot="bot"===filter.value,isNotMobile="mobile"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type,userAgent=navigator.userAgent;return isDesktop&&isNotMobile||isMobile&&!isNotMobile||isBot&&/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(userAgent);case"referrer":var referrer=_this.referrer||document.referrer;return referrer&&new RegExp(filter.value).test(referrer);case"path":var _location=location,pathname=_location.pathname;return pathname&&new RegExp(filter.value).test(pathname);case"function":try{var matches=!!eval(filter.value);return matches}catch(e){return _utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e),!1}case"userAgent":var _userAgent=navigator.userAgent;return _userAgent&&new RegExp(filter.value).test(_userAgent);case"host":var _location2=location,hostname=_location2.hostname;return hostname&&new RegExp(filter.value).test(hostname);case"utmSource":case"utmMedium":case"utmCampaign":var search=window.location.search,utmParam="utm_".concat(filter.type.toLowerCase());return search&&search.indexOf("".concat(utmParam,"=").concat(filter.value))>-1;case"facebook":case"wallet":return _this.browserType===filter.type;case"denyCountGreaterThan":var value=filter.value,denyCount=parseInt(localStorage.getItem(_const_common__WEBPACK_IMPORTED_MODULE_21__.C5),_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ)||0;return denyCount>=Number(value);case"filterGroup":var children=filter.children;if(children&&0===children.length)return!1;var matchedFilters=(children||[]).filter((function(e){return _this.checkFilterConditions(e,configParams)}));if(isForTest)return matchedFilters.length===children.length;matchedFilters.length===children.length&&_this.applyConfirmAlertFilter(filter,configParams);default:return _utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Invalid filter type: ".concat(filter.type)),!1}})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_27__.Z)(_this),"shouldShowBanner",function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t,n){var i,r,o,a,s;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!t,e.next=3,(0,_utils_matchElementPathAndDomain__WEBPACK_IMPORTED_MODULE_22__.c)(i,n);case 3:return(i=e.sent)&&n.minimumVisits&&(r=localStorage.getItem("cleverpush-banner-".concat(n._id,"-visits")),o=0,r&&(a=parseInt(r,_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ),isNaN(a)||(o=parseInt(a,_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ))),o+=1,localStorage.setItem("cleverpush-banner-".concat(n._id,"-visits"),"".concat(o)),i=i&&o>=n.minimumVisits),s=function(){var e=[promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.resolve(i)],t=function(e){return e},r=function(e){return"and"===e?"every":"some"};if(n.showOnlySubscribers&&e.push(new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(e){_this.subscriptionManager?_this.subscriptionManager.isSubscribed().then(e):e(!1)}))),n.topics&&n.topics.length>0){var o=new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(e){return _this.getTopics((function(t,i){e(n.topics[r(n.topicsLogic)]((function(e){return i.includes(e)})))}))}));e.push(o)}if(n.excludeTopics&&n.excludeTopics.length>0){var a=new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(e){return _this.getTopics((function(t,i){e(n.excludeTopics.every((function(e){return!i.includes(e)})))}))}));e.push(a)}if(n.tags&&n.tags.length>0){var s=promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.all(n.tags.map((function(e){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){return _this.hasTag(e,t)}))}))).then((function(e){return e[r(n.tagsLogic)](t)}));e.push(s)}if(n.excludeTags&&n.excludeTags.length>0){var _=promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.all(n.excludeTags.map((function(e){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){return!_this.hasTag(e,t)}))}))).then((function(e){return e.every(t)}));e.push(_)}if(n.attributes&&n.attributes.length>0){var c=promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.all(n.attributes.map((function(e){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){return _this.hasAttribute(e.id,e.value,t)}))}))).then((function(e){return e.every(t)}));e.push(c)}return promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.all(e).then((function(e){return e.every(t)}))},e.abrupt("return",new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(e){if(i&&!isNaN(n.scrollPercentage)&&n.scrollPercentage>0){var t=function t(){((0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.r0)()>=n.scrollPercentage||0===n.scrollPercentage)&&(window.removeEventListener("scroll",t),s().then(e))};window.addEventListener("scroll",t),t()}else if(i&&!isNaN(n.scrollPixels)&&n.scrollPixels>0){var r=function t(){((0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.J_)()>=n.scrollPixels||0===n.scrollPixels)&&(window.removeEventListener("scroll",t),s().then(e))};window.addEventListener("scroll",r),r()}else s().then(e)})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_27__.Z)(_this),"checkAutoBalanceShouldShowAlert",(function(e,t){var n=2*t,i=1.05*t,r=100/Math.pow(n-i,2)*Math.pow(e-i,2);return r=r||0,r=Math.max(0,Math.min(100,r)),100*Math.random()<=r})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_27__.Z)(_this),"triggerFollowUpEvent",(function(e,t,n){var i="object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(n)?n:{};if((0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("triggerFollowUpEvent",e,t,i),_this.config.clickedFollowUpCampaignId!==e){var r=function(n){if(n){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("triggerFollowUpEvent waitForSubscription done",n);var r=_this.config.clickedFollowUpCampaignId===e,o="undefined"!=typeof sessionStorage?localStorage.getItem("cleverpush-notification-id"):void 0;_this.api.triggerFollowUpEvent(n,e,o,t,_objectSpread({url:location.href},i),r,_this.config.bypassInactiveFollowUps)}};if("triggerArticleBounce"!==t)_this.waitForInit().then((function(){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("triggerFollowUpEvent waitForInit done"),_this.config.autoRegister?_this.waitForSubscription().then(r):_this.subscriptionManager.getSubscriptionId().then(r)}));else{var o=localStorage.getItem("cleverpush-subscription-id");r(o)}}})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_27__.Z)(_this),"triggerJourneyEvent",(function(e,t,n,i){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(r,o){var a="object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(n)?n:{};if((0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("Journey Events",e,t,a),_this.config.clickedJourneyId!==e){var s=function(){var n=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function n(s){var _,c;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!s){n.next=7;break}return _utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("JourneyEvents waitForSubscription done",s),_=_this.config.clickedJourneyId===e,c="undefined"!=typeof sessionStorage?localStorage.getItem("cleverpush-notification-id"):void 0,n.next=6,_this.api.triggerJourneyEvent(s,e,c,_,t,i,_objectSpread({url:location.href},a));case 6:r();case 7:o();case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();if("triggerArticleBounce"!==t)_this.waitForInit().then((function(){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("JourneyEvents waitForInit done"),_this.config.autoRegister?_this.waitForSubscription().then(s):_this.subscriptionManager.getSubscriptionId().then(s)}));else{var _=localStorage.getItem("cleverpush-subscription-id");s(_)}}}))})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_27__.Z)(_this),"initJourneys",(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(){var t,n,i,r,o,a,s,_;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_this.config.journeys||!_this.config.journeys.length){e.next=35;break}t=_createForOfIteratorHelper(_this.config.journeys),e.prev=2,t.s();case 4:if((n=t.n()).done){e.next=27;break}i=n.value,r=(null==i?void 0:i.elements)||[],o=_createForOfIteratorHelper(r),e.prev=8,o.s();case 10:if((a=o.n()).done){e.next=17;break}return s=a.value,_=(null==s?void 0:s.payload)||{},e.next=15,_this.processJourneyElement(i._id,_);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:e.next=4;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(2),t.e(e.t1);case 32:return e.prev=32,t.f(),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[2,29,32,35],[8,19,22,25]])})))),_this.bell=null,_this.config={},_this.log=_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM,_this.initialized=!1,_this.initCalled=!1,_this.initFailed=!1,_this.initError=null,_this.api=null,_this.subscriptionManager=null,_this.version="1.1.0",_this.isMobile="Android"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name||"iOS"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name||"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type,_this}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_30__.Z)(CleverPush,[{key:"init",value:function init(configParam,callbackParam){var _this2=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("init"),_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("Browser:",_utils_env__WEBPACK_IMPORTED_MODULE_20__.Xh.name,_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_);var callback=function(e,t){var n=void 0!==t?t:!e;"function"==typeof callbackParam?callbackParam(e,n):e&&(e.warn||"unsupported-browser"===e.reason||"private-mode"===e.reason||"already-initialized"===e.reason||"init-already-called"===e.reason?_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn(e.message):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error(e)),"function"==typeof window.cleverPushInitCallback&&window.cleverPushInitCallback(e,n),e?("already-initialized"!==e.reason&&"init-already-called"!==e.reason&&(_this2.initFailed=!0,_this2.initError=e),_this2.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.INITIALIZATION_FAILED)):_this2.initFailed=!1};if(this.initCalled)callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("Init was already called, please only call init() once.","init-already-called"),!1);else if(this.initCalled=!0,window.addEventListener("message",(function(e){e.data&&"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(e.data)&&"cleverpush"===e.data.type&&e.data.method&&_const_common__WEBPACK_IMPORTED_MODULE_21__.aw.includes(e.data.method)&&e.data.arguments&&_this2[e.data.method]&&_this2[e.data.method].apply(_this2,(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_31__.Z)(e.data.arguments))})),"object"!==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(configParam))callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("Required parameter `config` not given.","invalid-config"));else if(configParam.channelId||configParam.loadConfigFromParent)if(this.initialized)callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("CleverPush SDK was already initialized.","already-initialized"));else{this.api=new _api__WEBPACK_IMPORTED_MODULE_9__.Z(configParam.channelId),configParam.apiEndpoint&&(this.api.endpoint=configParam.apiEndpoint),!configParam.env&&window.cleverPushConfig&&window.cleverPushConfig.env?configParam.env=window.cleverPushConfig.env:!configParam.env&&window.cleverpushConfig&&window.cleverpushConfig.env&&(configParam.env=window.cleverpushConfig.env);var initSubscriptionManager=function(){var e,t=window.location.protocol,n=window.location.hostname;try{t=window.parent.location.protocol,n=window.parent.location.hostname}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("error reading parent location",e)}return e="safari"===_this2.browserType?"safariManager":"facebook"===_this2.browserType?"facebookManager":"wallet"===_this2.browserType?"walletManager":"urlSession"===_this2.browserType?"urlSessionManager":(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.CO)(configParam)||"POPUP"===configParam.env?"httpPopupManager":(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.cL)(configParam)?"httpIframeManager":!_this2.config.ownDomain||"https:"!==t&&"localhost"!==n?"httpHostManager":"httpsManager",new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){__webpack_require__(3564)("./".concat(e)).then((function(e){var n=e.default;_this2.subscriptionManager=new n(_this2.config,_this2.api,_this2.trigger.bind(_this2)),t()}))}))};if("POPUP"!==configParam.env&&(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.MD)(configParam)||"PREVIEW"===configParam.env||"WIDGET"===configParam.env){var loadConfigPromise=new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(e,t){var n,i,r=configParam.confirmAlertTestsEnabled&&(null===(n=configParam.confirmAlertTests)||void 0===n?void 0:n.length),o=!1;r&&2===configParam.confirmAlertTests.length&&configParam.confirmAlertTests.find((function(e){var t,n;return void 0!==(null===(t=e.config)||void 0===t?void 0:t.autoRegister)&&(null===(n=e.config)||void 0===n?void 0:n.autoRegister)!==configParam.autoRegister}))&&(o=!0);var a=null===(i=location.search)||void 0===i?void 0:i.includes("cleverPushWebBannerId=");"undefined"!=typeof fetch&&(void 0===configParam.loadConfig||configParam.loadConfig||r&&!o||a)&&"PREVIEW"!==configParam.env?_this2.api.getChannelConfig(configParam.confirmAlertTestsEnabled,a).then((function(t){e(t)})).catch(t):configParam.loadConfigUrl?(0,_utils_request__WEBPACK_IMPORTED_MODULE_11__.Z)(configParam.loadConfigUrl).then((function(t){e(t||{})})).catch(t):e({})}));configParam.apiEndpoint&&(this.api.endpoint=configParam.apiEndpoint),loadConfigPromise.then((function(channelConfig){if(_this2.config=_objectSpread(_objectSpread(_objectSpread({autoRegister:!0,alertTimeout:0,alertMinimumVisits:0,loadIframe:!0,trackSessions:!0},channelConfig),configParam),{},{webBanners:channelConfig.webBanners||configParam.webBanners,confirmAlertTests:channelConfig.confirmAlertTests||configParam.confirmAlertTests}),_this2.configLoaded=!0,_this2.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.CONFIG_AVAILABLE),_this2.initWebpackPublicPath(),_this2.config.enableRestrictOptInDomain&&_this2.config.domain&&!_this2.config.domain.includes(location.hostname))callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("This channel has enabled Opt-in domain restrictions. (".concat(location.hostname," is not included in allowed domains (").concat(_this2.config.domain,"))"),"enableRestrictOptInDomain"));else if(configParam.alertLocalization&&(_this2.config.alertLocalization=_objectSpread(_objectSpread({},channelConfig.alertLocalization),configParam.alertLocalization)),void 0!==_this2.config.channelId&&void 0!==_this2.config.channelName){if("object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(self.cleverPushConfig)?_this2.config=Object.assign(_this2.config,self.cleverPushConfig):"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(self.cleverpushConfig)&&(_this2.config=Object.assign(_this2.config,self.cleverpushConfig)),_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Config:",_this2.config),_this2.config.apiEndpoint&&(_this2.api.endpoint=_this2.config.apiEndpoint),_this2.config.regionEnabled&&(_this2.api.regionEnabled=!0),(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.io)()&&(_this2.config.autoRegister=!1),_this2.config.facebookAppId||(_this2.config.facebookAppId="436333683366106"),"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var params=new URLSearchParams(location.search.slice(1));if(params.get("confirmAlertTestId")&&(_this2.config.confirmAlertTestId=params.get("confirmAlertTestId"),_this2.api.setConfirmAlertTestId(_this2.config.confirmAlertTestId)),params.get("cpId"))try{sessionStorage.setItem("cleverpush-url-session",_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb),sessionStorage.setItem("cleverpush-subscription-id",params.get("cpId"))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn("Error setting URL-session",e)}}try{sessionStorage.getItem("cleverpush-url-session")&&(_this2.urlSession=!0)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("Error getting url-session key from storage",e)}try{(_this2.config.trackOptInReferrers||(_this2.config.confirmAlertFilters||[]).find((function(e){return"referrer"===e.type}))||_this2.config.bounceEnabled&&(_this2.config.bounceFilters||[]).find((function(e){return"direct"===e.source})))&&!sessionStorage.getItem("cleverpush-referrer")&&document.referrer&&sessionStorage.setItem("cleverpush-referrer",document.referrer.split("?")[0]),_this2.referrer=sessionStorage.getItem("cleverpush-referrer")}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}var supportsPushOrFbMessenger=function(){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(e,t){var n=function(n){if("unsupported-browser"===n.reason)return _this2.urlSession&&!configParam.forceChannelId?(_this2.setUrlSessionConfig(configParam),_this2.initHideUnsupported(),void e("urlSession")):_this2.config.facebookAppId&&_this2.config.facebookPageId&&_this2.config.facebookCheckboxEnabled&&!(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.vp)()?(_this2.setFacebookChannelConfig(configParam),_this2.initHideUnsupported(),void e("facebook")):_this2.config.multiChannels&&_this2.config.multiChannels.walletChannel&&((_this2.config.walletPasses||[]).length||_this2.config.confirmAlertTestsEnabled&&_this2.config.confirmAlertTestId&&(_this2.config.confirmAlertTests||[]).find((function(e){return e.id===_this2.config.confirmAlertTestId&&e.config&&(e.config.walletPasses||[]).length})))&&"iOS"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name&&!(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.vp)()&&!_this2.config.walletOptInDisabled?(_this2.config.multiChannels&&_this2.config.multiChannels.walletChannel&&_this2.config.multiChannels.walletChannel._id!==_this2.config.channelId&&!configParam.forceChannelId&&(_this2.config.channelId=_this2.config.multiChannels.walletChannel._id,_this2.config.alertLocalization=_objectSpread(_objectSpread({},_this2.config.alertLocalization),_this2.config.multiChannels.walletChannel.alertLocalization),_this2.api.channelId=_this2.config.multiChannels.walletChannel._id),_this2.config.hideNotificationBellSubscribed=!0,_this2.config.showConfirmAlert=!0,"cleverpush-confirm-backdrop-text"===_this2.config.confirmAlertNativeTheme&&(_this2.config.confirmAlertNativeTheme=""),void e("wallet")):void t(n);t(n)};if(_this2.urlSession)return _this2.setUrlSessionConfig(configParam),void e("urlSession");_this2.config.multiChannels&&_this2.config.multiChannels.facebookChannel&&_this2.config.multiChannels.facebookChannel.facebookPage&&!_this2.config.facebookPageId&&(_this2.config.facebookPageId=_this2.config.multiChannels.facebookChannel.facebookPage.id||_this2.config.multiChannels.facebookChannel.facebookPageId,_this2.config.facebookCheckboxEnabled=_this2.config.multiChannels.facebookChannel.facebookCheckboxEnabled,_this2.config.facebookCheckboxOnlyUnsupported=_this2.config.multiChannels.facebookChannel.facebookCheckboxOnlyUnsupported,_this2.config.facebookDoubleOptIn=_this2.config.multiChannels.facebookChannel.facebookDoubleOptIn),(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.H$)().then((function(t){_this2.config.facebookCheckboxOnlyUnsupported&&_this2.config.facebookPageId&&(_this2.config.facebookPageId=null),"safari"!==t||_this2.config.safariWebsitePushId?(_this2.checkConfirmAlertFilters(configParam),e(_this2.browserType||t)):n(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("Safari Web Push not set up","unsupported-browser"))})).catch(n)}))};_this2.initBounces(),(0,_utils_dom__WEBPACK_IMPORTED_MODULE_8__.AE)().then((function(){_this2.initMultiPlatformWidgets()})),_this2.initChatWidget(),supportsPushOrFbMessenger().then((function(browserType){var _this2$config$confirm;if(_this2.browserType=browserType,_this2.config.browserType=browserType,!_this2.config.desktopOnly||"Android"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name&&"mobile"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type){if(_this2.config.confirmAlertTestsEnabled&&(null===(_this2$config$confirm=_this2.config.confirmAlertTests)||void 0===_this2$config$confirm?void 0:_this2$config$confirm.length)>0){var availableConfirmAlertTests=_this2.config.confirmAlertTests.filter((function(e){return!(e.filters&&e.filters.length>0)||e.filters.every((function(e){return _this2.checkFilterConditions(e,{},!0)}))})),test;if(_this2.config.confirmAlertTestId){var testIndex=availableConfirmAlertTests.findIndex((function(e){return(e||{}).id===_this2.config.confirmAlertTestId}));testIndex>=0&&(test=availableConfirmAlertTests[testIndex])}if(!test){var defaultPercent=100/availableConfirmAlertTests.length,tests=availableConfirmAlertTests.map((function(e){return _objectSpread(_objectSpread({},e),{},{percentage:e.percentage||defaultPercent})})),i,randomNr=Math.random(),threshold=0;for(i=0;i<tests.length;i+=1)if(tests[i].percentage){if(threshold+=tests[i].percentage/100,threshold>randomNr){test=tests[i];break}test||(test=tests.filter((function(e){return!e.percentage})))}}test&&test.config&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Split-Test:",test),_this2.config=_objectSpread(_objectSpread(_objectSpread({},_this2.config),test.config),{},{confirmAlertTestId:test.id,customCss:(test.config.customCss||"")+(_this2.config.customCss?_this2.config.customCss:""),alertLocalization:_objectSpread(_objectSpread({},_this2.config.alertLocalization),test.config.alertLocalization||{})}),test.alertLocalization||(_this2.config.alertLocalization||(_this2.config.alertLocalization={}),_this2.config.alertLocalization={allow:test.config.alertLocalizationAllow||_this2.config.alertLocalization.allow,deny:test.config.alertLocalizationDeny||_this2.config.alertLocalization.deny,confirmInfo:test.config.alertLocalizationConfirmInfo||_this2.config.alertLocalization.confirmInfo,title:test.config.alertLocalizationTitle||_this2.config.alertLocalization.title,info:test.config.alertLocalizationInfo||_this2.config.alertLocalization.info}),_this2.api.setConfirmAlertTestId(_this2.config.confirmAlertTestId))}var language=(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.ej)(_this2.config||{});if(_this2.config.alertLocalizationTranslations&&language&&_this2.config.alertLocalizationTranslations[language])for(var translation=_this2.config.alertLocalizationTranslations[language],translatedUrlFields=["privacyPolicyText","privacyPolicyUrl","faqText","faqUrl"],_i=0,_translatedUrlFields=translatedUrlFields;_i<_translatedUrlFields.length;_i++){var translatedUrlField=_translatedUrlFields[_i];translation[translatedUrlField]&&(_this2.config[translatedUrlField]=translation[translatedUrlField])}_this2.config.channelTopics&&_this2.config.channelTopics.length&&(_this2.config.channelTopics=_this2.config.channelTopics.sort((function(e,t){return e.sort-t.sort})));var initSdk=function initSdk(){promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.all([_this2.waitForInit(),initSubscriptionManager()]).then((function(){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Init done");var isMobile="Android"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name||"iOS"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name||"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type,loadBell=_this2.config.showNotificationBell&&(!isMobile||!_this2.config.hideNotificationBellMobile),importPromises=[Promise.all([__webpack_require__.e(103),__webpack_require__.e(720)]).then(__webpack_require__.bind(__webpack_require__,7720))];loadBell&&importPromises.push(Promise.all([__webpack_require__.e(34),__webpack_require__.e(407)]).then(__webpack_require__.bind(__webpack_require__,9407))),promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.all(importPromises).then((function(_ref6){var _ref7=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_32__.Z)(_ref6,2),Confirm=_ref7[0].default,bellResult=_ref7[1];if(_this2.confirm=new Confirm(_this2,_this2.subscriptionManager),_this2.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.CONFIRM_AVAILABLE),_this2.subscriptionManager.setConfirm(_this2.confirm),loadBell){var Bell=bellResult.default;_this2.bell=new Bell(_this2.config,_this2.subscriptionManager,_this2.api,_this2.confirm,_this2.trigger.bind(_this2),_this2.triggerOptIn.bind(_this2))}_this2.config.urlTriggeredPanelTab=_this2.validateUrlTriggerType(location.search.split("?cleverPushPanelTab=")[1]),_this2.config.urlTriggeredPanelTab&&_this2.triggerBellClick();var fullScreenOptIn=isMobile;fullScreenOptIn&&_this2.config.channelTopics&&_this2.config.channelTopics.length&&!_this2.config.confirmAlertSelectTopicsLaterDisabled&&(_this2.config.confirmAlertSelectTopicsLater=!0);var isSafariMac="Mac OS"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name&&"Safari"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Xh.name;if("PREVIEW"!==_this2.config.env&&(_this2.config.autoBalanceConfirmAlert&&(_this2.config.showConfirmAlert=!_this2.checkAutoBalanceShouldShowAlert(_this2.config.autoBalanceOptInRate,_this2.config.autoBalanceMinimumOptInRate)),_this2.config.showConfirmAlertMobile&&!_this2.config.confirmAlertSelectTopicsLater&&fullScreenOptIn&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("showConfirmAlert = true 2"),_this2.config.showConfirmAlert=!0),isSafariMac&&(_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_>12||12===_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_&&_utils_env__WEBPACK_IMPORTED_MODULE_20__.KK>=1)&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("showConfirmAlert = true 3"),_this2.config.showConfirmAlert=!0,_this2.config.isSafari_12_1=!0),(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.vU)()&&_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_>=72&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("showConfirmAlert = true 4"),_this2.config.showConfirmAlert=!0),(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.un)()&&(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.qj)()&&!_this2.config.silentPromptTutorialDisabled&&_this2.displayUnblockTutorial()),_this2.config.confirmAlertHideChannelTopics||_this2.config.isSafari_12_1||!(_this2.config.channelTopics||[]).length||!(fullScreenOptIn&&!_this2.config.showConfirmAlertMobile||isSafariMac)||_this2.config.confirmAlertSelectTopicsLaterDisabled||(_this2.config.confirmAlertSelectTopicsLater=!0),_this2.config.customAttributes&&_this2.config.customAttributes.length&&_this2.config.customAttributes.filter((function(e){return!!e.askAfterOptIn})).length&&(_this2.config.confirmAlertSelectAttributesLater=!0),_this2.config.confirmAlertDisabled&&_this2.config.showConfirmAlert&&(_this2.config.showConfirmAlert=!1),_this2.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("SUBSCRIBED fired"),_this2.bell&&_this2.bell.reset(!0),_this2.confirm&&_this2.confirm.hide(),_this2.initGoogleAnalytics(e)})),_this2.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.UNSUBSCRIBED,(function(){_this2.subscriptionManager.subscribed=!1,_this2.bell&&_this2.bell.reset(!1)})),_this2.initWebBanners(),_this2.initWidgets(),_this2.initTagButtons(),_this2.initTagSwitches(),_this2.initTopicButtons(),_this2.initPageBanners(),_this2.initTags(),_this2.initAttributes(),_this2.initTopics(),_this2.initConversions(),_this2.initPiano(),_this2.initTcf(),_this2.initDuplicateSubscriptions(),_this2.initSpeechbubblePanels(),_this2.subscriptionManager.isSubscribed().then((function(e){_this2.bell&&(_this2.bell.show(e),_this2.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.BELL_READY)),e&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("main subscribed = true"),_this2.subscriptionManager.subscribed=!0,_this2.subscriptionManager.iframeMessenger&&_this2.subscriptionManager.getSubscriptionId().then((function(e){_this2.subscriptionManager.iframeMessenger.getSubscriptionId().then((function(t){_this2.initAutoUnsubscribeDuplicateSubscriptions(e,t),_this2.subscriptionManager.iframeMessenger.setSubscribed(e)}))})),_this2.subscriptionManager.getSubscriptionId().then((function(e){_this2.initGoogleAnalytics(e)})))})),_this2.config.trackSessions)try{_this2.waitForSubscription().then((function(e){var t=_this2.subscriptionManager.storageManager.getLastSession(),n=function(){if(t&&t.lastInteractionAt&&t.startedAt&&new Date(t.lastInteractionAt)<new Date(Date.now()-108e3)){var n=Math.round((new Date(t.lastInteractionAt).getTime()-new Date(t.startedAt).getTime())/1e3);n>108e3?n=108e3:n<0&&(n=0),e&&_this2.api.endSession(e,{duration:n,visits:t.visits}),t={}}};n(),t.startedAt&&sessionStorage.getItem("cleverpush-session-counted")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb||(sessionStorage.setItem("cleverpush-session-counted",_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb),_this2.subscriptionManager.storageManager.getNotifications(1).then((function(t){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("getNotifications res",t);var n={};t&&t.length&&t[0]&&t[0].id&&(n.lastNotificationId=t[0].id),e&&_this2.api.startSession(e,n)})),t.startedAt=new Date,t.visits=0),t.lastInteractionAt=new Date,t.visits+=1,_this2.subscriptionManager.storageManager.setLastSession(t),window.addEventListener("unload",(function(){(t=_this2.subscriptionManager.storageManager.getLastSession())&&t.lastInteractionAt&&t.startedAt&&!(new Date(t.lastInteractionAt)>=new Date(Date.now()-108e3))||(t.lastInteractionAt=new Date),n(),_this2.subscriptionManager.storageManager.setLastSession(t)}),!1)}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn(e)}if(_this2.checkConfirmAlertFilters(configParam),_this2.config.customCss){var node=document.createElement("style");node.innerHTML=_this2.config.customCss+_const_customCssOverrides__WEBPACK_IMPORTED_MODULE_17__.Z,document.body.appendChild(node)}if(_this2.config.customJs)try{eval(_this2.config.customJs)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}if(_this2.autoTriggerOptIn(),_this2.initialized=!0,_this2.initCalled=!1,callback(!1,!0),_this2.config.exitIntentOptIn&&(__webpack_require__.e(499).then(__webpack_require__.t.bind(__webpack_require__,5499,23)).then((function(e){(0,e.default)(null,{aggressive:!0,callback:function(){var e=!0;try{var t=localStorage.getItem(CLEVERPUSH_EXIT_INTENT_SHOWN);if(t){var n=parseInt(t,_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ);!isNaN(n)&&n+MILLISECOND_UNIT[TIME_UNITS.DAYS]>Date.now()&&(e=!1)}}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("error reading exit intent time",e)}e&&(_this2.config.exitIntentOncePerSession&&localStorage.setItem(CLEVERPUSH_EXIT_INTENT_SHOWN,"".concat(Date.now())),_this2.subscriptionManager.isSubscribed().then((function(e){e||_this2.subscriptionManager.isSubscribing||_this2.triggerOptIn(!0)})))}})})),_this2.isMobile&&_this2.config.exitIntentForMobile)){var showExitIntent=!0;try{var shownStr=localStorage.getItem(CLEVERPUSH_EXIT_INTENT_SHOWN);if(shownStr){var shownTime=parseInt(shownStr,_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ);!isNaN(shownTime)&&shownTime+MILLISECOND_UNIT[TIME_UNITS.DAYS]>Date.now()&&(showExitIntent=!1)}}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("error reading exit intent time",e)}showExitIntent&&_this2.subscriptionManager.isSubscribed().then((function(e){if(_this2.config.exitIntentOncePerSession&&localStorage.setItem(CLEVERPUSH_EXIT_INTENT_SHOWN,"".concat(Date.now())),!e){var t=_this2.config;_this2.initMobileExitIntentListeners(OPT_INS,!0,t)}}))}if((0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.MD)()&&window.location.hash&&0===window.location.hash.indexOf("#cleverPushScroll=")){var split=window.location.hash.split("=");if(split.length>1){var scrollPercent=parseInt(split[1].split("?")[0],_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ);scrollPercent&&window.scrollTo(0,scrollPercent)}}if((0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.MD)()&&"undefined"!=typeof URLSearchParams){var queryParams="";if(location.hash&&0===location.hash.indexOf("#?")&&(queryParams+=new URLSearchParams(location.hash.slice(2))),location.search&&location.search.length&&(queryParams&&(queryParams+="&"),queryParams+=location.search.slice(1)),queryParams){var _this2$config$voucher,_params=new URLSearchParams(queryParams);_params.get("cleverPushBypassInactiveFollowUps")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb&&(_this2.config.bypassInactiveFollowUps=!0);var importedSubscriptionId=_params.get("cleverPushOnesignalSubscriptionId")||_params.get("cleverPushAccengageSubscriptionId")||_params.get("cleverPushImportedSubscriptionId")||localStorage.getItem("cleverpush-onesignal-subscription-id")||localStorage.getItem("cleverpush-imported-subscription-id");if(_params.get("cleverPushDebugRedirect")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb){var subdomain=_this2.config.subdomain||_this2.config.channelSubdomain;if(subdomain){var status={worker:null,workerScope:null,notification:(window.Notification||{}).permission,localStorage:{"cleverpush-subscription-id":localStorage.getItem("cleverpush-subscription-id"),"cleverpush-subscription-id-old":localStorage.getItem("cleverpush-subscription-id-old"),"cleverpush-subscription-status":localStorage.getItem("cleverpush-subscription-status"),"cleverpush-last-sync":localStorage.getItem("cleverpush-last-sync"),"cleverpush-last-worker-update":localStorage.getItem("cleverpush-last-worker-update"),"cleverpush-last-worker-version":localStorage.getItem("cleverpush-last-worker-version"),"cleverpush-visits":localStorage.getItem("cleverpush-visits"),"cleverpush-close-time":localStorage.getItem("cleverpush-close-time"),"cleverpush-deny-time":localStorage.getItem("cleverpush-deny-time"),"cleverpush-topics":localStorage.getItem("cleverpush-topics"),"cleverpush-tags":localStorage.getItem("cleverpush-tags"),"cleverpush-duplicate-channels-completed":localStorage.getItem("cleverpush-duplicate-channels-completed")}};if(_this2.config.pianoEnabled&&_this2.config.pianoPublicPersistedId&&"undefined"!=typeof cX)try{status.pianoSegments=cX.getUserSegmentIds({persistedQueryId:_this2.config.pianoPublicPersistedId})}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("Error getting Piano Segments",e)}var redirect=function(){location.href="https://".concat(subdomain,".").concat(_this2.config.cleverpushDomain||"cleverpush.com","/debug?status=").concat(encodeURIComponent(JSON.stringify(status)))},registrationCount=0;navigator.serviceWorker.getRegistrations().then((function(e){e.length||redirect(),e.forEach((function(t,n){var i=_this2.subscriptionManager.getServiceWorker(t);t.pushManager.getSubscription().then((function(t){status["worker".concat(n,"Url")]=i.scriptURL,status["worker".concat(n,"Subscription")]=JSON.stringify(t),(registrationCount+=1)>=e.length&&redirect()})).catch((function(){(registrationCount+=1)>=e.length&&redirect()}))}))})).catch(redirect)}}else if(_params.get("cleverPushSubscriptionIdAlert")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb)_this2.subscriptionManager.isSubscribed().then((function(e){e?_this2.waitForSubscription().then((function(e){prompt("CleverPush Subscription ID:",e)})):alert("Dieser Browser ist keinem Push Abonnement zugeordnet.")}));else if(_params.get("cleverPushUnsubscribe")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb){var _subdomain=_this2.config.subdomain||_this2.config.channelSubdomain;_subdomain&&_this2.subscriptionManager.getSubscriptionId().then((function(e){_this2.unsubscribe((function(){location.href="https://".concat(_subdomain,".").concat(_this2.config.cleverpushDomain||"cleverpush.com","/unsubscribe?subscriptionId=").concat(e).concat(_params.get("cleverPushUnsubscribeForce")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb?"&force=true":"")}))}))}else if(_params.get("cleverPushTestSubscription")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb)_this2.api.testSubscription=!0,_this2.subscriptionManager.sync().then((function(){alert("Subscription has been successfully marked as Test Subscription.")}));else if(importedSubscriptionId)localStorage.setItem("cleverpush-imported-subscription-id",importedSubscriptionId),_this2.waitForSubscription().then((function(e){e&&e!==importedSubscriptionId&&(_this2.api.unsubscribe(importedSubscriptionId),localStorage.removeItem("cleverpush-imported-subscription-id"),localStorage.removeItem("cleverpush-onesignal-subscription-id"))}));else if(_params.get("cleverPushOptIn")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb){var tags;if(_params.get("cleverPushTags")){tags=_params.get("cleverPushTags").split(",");var existingText="Du hast dieses Thema bereits abonniert",keepText="Klicke auf [OK] um fortzufahren oder auf [Abbrechen] um dieses Thema zu deabonnieren.",successText="Du hast dieses Thema erfolgreich abonniert",notSubscribed=function(){tags.forEach((function(e){_this2.tagSubscription(e)})),_this2.subscribe((function(e){e&&"denied"===e.reason?_this2.subscriptionManager.confirm&&_this2.subscriptionManager.confirm.showBackdrop(void 0,"denied",(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("popup.info").formatCleverPush("<strong>".concat((0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.allowBrowser")||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.allow"),"</strong>"))):alert(successText)}))};_this2.subscriptionManager.isSubscribed().then((function(e){e?_this2.waitForSubscription().then((function(){_this2.subscriptionManager.storageManager.getTags().then((function(e){(e||[]).filter((function(e){return tags.indexOf(e)>-1})).length>=tags.length?confirm("".concat(existingText,"\n\n").concat(keepText))||tags.forEach((function(e){_this2.untagSubscription(e)})):(alert(successText),tags.forEach((function(e){_this2.tagSubscription(e)})))}))})):notSubscribed()})).catch((function(){notSubscribed()}))}else _this2.subscriptionManager.isSubscribed().then((function(e){e?_this2.waitForSubscription().then((function(){_this2.subscriptionManager.storageManager.getTopics().then((function(e){var t=(_this2.config.channelTopics||[]).filter((function(e){var t=!0;return t&&e.matchPath&&e.matchPath.length&&(t=new RegExp(e.matchPath).test(window.parent.location.pathname)),t&&e.notMatchPath&&e.notMatchPath.length&&(t=!new RegExp(e.notMatchPath).test(window.parent.location.pathname)),t}));_this2.config.confirmAlertHideChannelTopics||(e||[]).length>=(t||[]).length?alert((0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.alreadySubscribed")):((_this2.config.alertLocalization||{}).title=(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.selectTopics"),(_this2.config.alertLocalization||{}).info=" ",(_this2.config.alertLocalization||{}).allow=(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("panel.save"),_this2.confirm&&(_this2.confirm.subscribedTopics=e),_this2.triggerOptIn(!0))}))})):_this2.triggerOptIn(!0,(function(e){e&&"denied"===e.reason&&_this2.subscriptionManager.confirm&&_this2.subscriptionManager.confirm.showBackdrop(void 0,"denied",(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("popup.info").formatCleverPush("<strong>".concat((0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.allowBrowser")||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.allow"),"</strong>")))}))})).catch((function(){_this2.triggerOptIn(!0,(function(e){e&&"denied"===e.reason&&_this2.subscriptionManager.confirm&&_this2.subscriptionManager.confirm.showBackdrop(void 0,"denied",(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("popup.info").formatCleverPush("<strong>".concat((0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.allowBrowser")||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.allow"),"</strong>")))}))}))}else _params.get("cleverPushShowBell")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb&&(_this2.config.hideNotificationBellSubscribed=!1,_this2.config.hideNotificationBellMobile=!1,_this2.config.showNotificationBell=!0);_params.get("cleverPushReferralSubscriptionId")&&!sessionStorage.getItem("cleverpush-referral-subscription-id")&&sessionStorage.setItem("cleverpush-referral-subscription-id",_params.get("cleverPushReferralSubscriptionId")),_params.get("cleverPushNotificationId")&&(_this2.subscriptionManager.setClickedNotification(_params.get("cleverPushNotificationId")),localStorage.setItem("cleverpush-notification-id",_params.get("cleverPushNotificationId")),_this2.subscriptionManager.storageManager.setNotificationRead(_params.get("cleverPushNotificationId"))),_params.get("cleverPushFollowUpCampaignId")&&sessionStorage.setItem("cleverpush-follow-up-campaign-id",_params.get("cleverPushFollowUpCampaignId")),_params.get("cleverPushJourneyId")&&sessionStorage.setItem("cleverpush-journey-id",_params.get("cleverPushJourneyId"));var cleverPushVoucherCode=_params.get("cleverPushVoucherCode"),cleverPushVoucherPoolId=_params.get("cleverPushVoucherPoolId"),cleverPushVoucherPool=null===(_this2$config$voucher=_this2.config.voucherPools)||void 0===_this2$config$voucher?void 0:_this2$config$voucher.find((function(e){return e._id===cleverPushVoucherPoolId}));cleverPushVoucherCode&&__webpack_require__.e(411).then(__webpack_require__.bind(__webpack_require__,3411)).then((function(e){var t=e.default;_this2.config.cleverPushVoucherCode=cleverPushVoucherCode,new t({title:(null==cleverPushVoucherPool?void 0:cleverPushVoucherPool.title)||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("voucherpool.title"),text:(null==cleverPushVoucherPool?void 0:cleverPushVoucherPool.description)||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("voucherpool.text"),message:(null==cleverPushVoucherPool?void 0:cleverPushVoucherPool.message)||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("voucher.code.copied")},_this2.config,_this2.subscriptionManager,_this2.api,"voucher").show()}))}}if(_this2.config.clickedFollowUpCampaignId=sessionStorage.getItem("cleverpush-follow-up-campaign-id"),_this2.config.clickedJourneyId=sessionStorage.getItem("cleverpush-journey-id"),_this2.initNotificationId(),_this2.initFollowUpCampaigns(),_this2.initJourneys(),_this2.config.trackNotificationSessions)try{_this2.waitForSubscription().then((function(e){var t="undefined"!=typeof sessionStorage?localStorage.getItem("cleverpush-notification-id"):void 0;t&&_this2.api.trackSessionImpression(e,t)}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn(e)}var currentPathname=location.pathname;_this2.config.detectLocationIntervalEnabled&&setInterval((function(){location.pathname!==currentPathname&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Location change detected"),_this2.initFollowUpCampaigns(),_this2.initJourneys(),_this2.initConversions(),_this2.initTags(),_this2.initWebBanners(),currentPathname=location.pathname)}),250)}))}))};(0,_utils_dom__WEBPACK_IMPORTED_MODULE_8__.AE)().then(initSdk).catch((function(e){callback(e)}))}})).catch((function(e){if(_this2.webPushUnsupported=!0,_this2.checkConfirmAlertFilters(_this2.config),_this2.config.customCss){var t=document.createElement("style");t.innerHTML=_this2.config.customCss+_const_customCssOverrides__WEBPACK_IMPORTED_MODULE_17__.Z,document.body.appendChild(t)}_this2.initPageBanners(),_this2.initWebBanners(),_this2.initWidgets(),_this2.initHideUnsupported(),e.warn=!0,callback(e)}))}else callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("`channelId` or `channelName` not found in config.","invalid-config"))})).catch((function(e){callback(e)}))}else if((0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.cL)(configParam)||(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.CO)(configParam)||"POPUP"===configParam.env){if(this.config=configParam,this.initWebpackPublicPath(),"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var params=new URLSearchParams(location.search.slice(1));params.get("confirmAlertTestId")&&(this.config.confirmAlertTestId=params.get("confirmAlertTestId"),this.api.setConfirmAlertTestId(this.config.confirmAlertTestId))}initSubscriptionManager(),_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Init done"),this.initialized=!0,this.initCalled=!1,callback(!1,!0)}}else callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("Required attribute `channelId` in `config` not given.","invalid-config"))}},{key:"initWebpackPublicPath",value:function(){this.config.staticEndpoint&&(__webpack_require__.p="".concat(this.config.staticEndpoint,"/sdk/"))}},{key:"displayUnblockTutorial",value:function(){this.config.showSilentPromptTutorial=!0,this.config.showConfirmAlert=!0}},{key:"setUrlSessionConfig",value:function(e){this.config.multiChannels&&this.config.multiChannels.telegramChannel&&this.config.multiChannels.telegramChannel._id!==this.config.channelId&&!e.forceChannelId?(this.config.channelId=this.config.multiChannels.telegramChannel._id,this.api.channelId=this.config.multiChannels.telegramChannel._id):this.config.multiChannels&&this.config.multiChannels.facebookChannel&&this.config.multiChannels.facebookChannel._id!==this.config.channelId&&!e.forceChannelId&&(this.config.channelId=this.config.multiChannels.facebookChannel._id,this.api.channelId=this.config.multiChannels.facebookChannel._id)}},{key:"handleLegacyConversion",value:function(e){var t=e.subscriptionId,n=e.notificationId,i=e.eventId,r=e.properties;if(t||this.config.trackConversionsWithoutSubscriptions||n){var o="cleverpush-conversion-".concat(i,"-tracked"),a=sessionStorage.getItem(o);a&&!this.isLastCheckExpired(a,MILLISECOND_UNIT[TIME_UNITS.HOUR])||(sessionStorage.setItem(o,Date.now()),this.api.trackConversion(t,n,i,r),this.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.EVENT_TRACKED,{eventId:i}))}}},{key:"handleAdditionalConversionTrack",value:function(e){var t=e.subscriptionId,n=e.notificationId,i=e.eventId,r=e.properties,o=e.minutes;if(t&&n){var a=convertMinutesToMS(o),s="cleverpush-conversion-".concat(i,"-minutes-").concat(a,"-tracked"),_=sessionStorage.getItem(s);_&&!this.isLastCheckExpired(_,a)||(sessionStorage.setItem(s,Date.now()),this.api.trackConversion(t,n,i,r,o),this.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.EVENT_TRACKED,{eventId:i}))}}},{key:"setFacebookChannelConfig",value:function(e){this.config.multiChannels&&this.config.multiChannels.facebookChannel&&this.config.multiChannels.facebookChannel._id!==this.config.channelId&&!e.forceChannelId&&(this.config.channelId=this.config.multiChannels.facebookChannel._id,this.config.alertLocalization=_objectSpread(_objectSpread({},this.config.alertLocalization),this.config.multiChannels.facebookChannel.alertLocalization),this.config.multiChannels.facebookChannel.alertLocalizationTranslations&&(this.config.alertLocalizationTranslations=_objectSpread(_objectSpread({},this.config.alertLocalizationTranslations||{}),this.config.multiChannels.facebookChannel.alertLocalizationTranslations)),this.api.channelId=this.config.multiChannels.facebookChannel._id),this.config.hideNotificationBellSubscribed=!0,this.config.showConfirmAlert=!0,"cleverpush-confirm-backdrop-text"===this.config.confirmAlertNativeTheme&&(this.config.confirmAlertNativeTheme=""),this.config.facebookButtonOptIn=!0,this.config.facebookCheckboxEnabled=!1}},{key:"importSubscriptionManager",value:function(e,t){var n=this;__webpack_require__(3564)("./".concat(e)).then((function(e){var i=e.default;n.subscriptionManager=new i(n.config,n.api,n.trigger.bind(n)),"denyCountGreaterThan"===t&&n.subscriptionManager.storageManager.setDenyStatus()}))}},{key:"setAuthorizerToken",value:function(e){this.api.authorizerToken=e}},{key:"checkConfirmAlertFilters",value:function(e){var t=this,n=this.config,i=n.confirmAlertFilters,r=n.env;if(null==i||!i.length||"PREVIEW"===r)return{};(i||[]).forEach((function(n){t.checkFilterConditions(n,e)&&t.applyConfirmAlertFilter(n,e)}))}},{key:"autoTriggerOptIn",value:function autoTriggerOptIn(){var _this5=this,storageManagerVisits=this.subscriptionManager.storageManager.getVisits(),optInTriggered=!1,optIn=function(){if(!optInTriggered){optInTriggered=!0;var e=function(){storageManagerVisits>=_this5.config.alertMinimumVisits&&(setTimeout((function(){_this5.config.preventDuplicateOptIns&&_this5.config.androidPackageName&&"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((function(e){var t=!1;e&&e.forEach((function(e){e.id===_this5.config.androidPackageName&&(t=!0)})),t||(sessionStorage.setItem("cleverpush-alert-shown",_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb),_this5.triggerOptIn())})):(sessionStorage.setItem("cleverpush-alert-shown",_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb),_this5.triggerOptIn())}),_this5.config.alertTimeout),_this5.optInVisitorTracked||_this5.subscriptionManager.canSubscribe().then((function(e){!0!==e||_this5.optInVisitorTracked||(_this5.optInVisitorTracked=!0,_this5.api.trackOptInVisitor())})).catch((function(){})))};_this5.config.alertOncePerSession?sessionStorage.getItem("cleverpush-alert-shown")!==_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb&&e():e()}},cmpReady=function(){return window.UC_UI_SUPPRESS_CMP_DISPLAY?window.UC_UI&&window.UC_UI.isInitialized():"function"==typeof __tcfapi},optInReady=function optInReady(){var retryCount=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(_this5.config.optInWaitForTcfDecision&&cmpReady()){var tcfOptInFired=!1,tcfOptIn=function(e){var t,n;(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("tcfOptIn tcData",e),_this5.config.tcfRequireVendorConsent&&_this5.config.tcfVendorId)?null!=e&&null!==(t=e.vendor)&&void 0!==t&&t.consents&&null!==(n=e.vendor)&&void 0!==n&&n.consents[_this5.config.tcfVendorId]?optIn():__tcfapi("getCustomVendorConsents",_const_common__WEBPACK_IMPORTED_MODULE_21__.WR,(function(e){e&&e.grants&&null!=e&&e.grants[_this5.config.tcfVendorId]&&null!=e&&e.grants[_this5.config.tcfVendorId].vendorGrant?(tcfOptInFired=!0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("__tcfapi has vendor consent, starting opt in",e),optIn()):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("__tcfapi no vendor consent!",e)})):(tcfOptInFired=!0,optIn())},checkTcData=function(){__tcfapi("addEventListener",_const_common__WEBPACK_IMPORTED_MODULE_21__.WR,(function(e,t){__tcfapi("removeEventListener",_const_common__WEBPACK_IMPORTED_MODULE_21__.WR,(function(){}),e.listenerId),_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("__tcfapi addEventListener",e,t),!tcfOptInFired&&t&&e.tcString&&"cmpuishown"!==e.eventStatus&&tcfOptIn(e)}))};if(_this5.config.tcfWaitForFunction){var isTcfFunctionAllowed=function isTcfFunctionAllowed(){try{return!!eval(_this5.config.tcfWaitForFunction)}catch(e){}return!1};setTimeout((function(){if(isTcfFunctionAllowed())checkTcData();else{var e=!1;__tcfapi("addEventListener",_const_common__WEBPACK_IMPORTED_MODULE_21__.WR,(function(){e||setTimeout((function(){isTcfFunctionAllowed()&&(e=!0,checkTcData())}),500)}))}}),500)}else checkTcData()}else _this5.config.optInWaitForTcfDecision?retryCount<_const_common__WEBPACK_IMPORTED_MODULE_21__.Pp?(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("__tcfapi not found. retrying…"),setTimeout((function(){return optInReady(retryCount+1)}),_const_common__WEBPACK_IMPORTED_MODULE_21__.PM)):(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("__tcfapi not found"),optIn()):optIn()};if(this.config.autoRegister)if("PREVIEW"===this.config.env)this.triggerOptIn();else{if(!isNaN(this.config.alertScrollPercentage)&&this.config.alertScrollPercentage>0){var checkScroll=function e(){(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.r0)()>=_this5.config.alertScrollPercentage&&(window.removeEventListener("scroll",e),optInReady())};window.addEventListener("scroll",checkScroll),checkScroll()}else optInReady();this.config.alertMinimumVisits&&this.config.alertMinimumVisits>0&&this.subscriptionManager.storageManager.incrementVisits()}this.config.showConfirmAlert&&this.config.disableConfirmAlertSearchTraffic&&this.referrer&&/google|bing|yahoo|baidu|duckduckgo|wolframalpha/.test(this.referrer)&&(this.config.showConfirmAlert=!1),this.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.PERMISSION_RE_GRANTED,(function(){_this5.config.autoRegister&&optInReady()}))}},{key:"initHttpIframe",value:function(e){(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initHttpIframe",e),this.init(e)}},{key:"initWidget",value:function(e){(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initWidget",e),this.init(_objectSpread(_objectSpread({},e),{},{env:"WIDGET"}))}},{key:"initHttpPopup",value:function(e){var t=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initHttpPopup",e),e.env="POPUP","Firefox"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Xh.name&&_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_>=72&&(e.showConfirmAlert=!0,e.showConfirmAlertForce=!0),e.loadConfigFromParent&&(e.loadConfig=!1),_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("initHttpPopup calling init…"),this.init(e,(function(e){if(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("initHttpPopup err",e);var n=document.getElementById("status");n?n.innerText=e.message||e.reason||e:window.opener?window.close():history.back()}else"Firefox"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Xh.name&&_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_>=72&&Promise.all([__webpack_require__.e(103),__webpack_require__.e(720)]).then(__webpack_require__.bind(__webpack_require__,7720)).then((function(e){var n=e.default;_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("showConfirmAlert = true 5"),t.config.showConfirmAlert=!0,t.config.showConfirmAlertForce=!0,t.confirm=new n(t,t.subscriptionManager),t.subscriptionManager.setConfirm(t.confirm),(0,_utils_dom__WEBPACK_IMPORTED_MODULE_8__.$k)().then((function(){t.confirm.appendConfirmBox("".concat(t.config.confirmAlertNativeTheme," ").concat(t.config.confirmAlertNativeTheme,"-native")),t.confirm.denyButton&&(t.confirm.denyButton.style.display="none");var e=t.confirm.confirmBox.querySelector(".cleverpush-confirm-info");e&&(e.style.display="none")}))})),window.onbeforeunload=function(){return(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("windowclose.confirm")}}))}},{key:"initContentButtons",value:function(){return this.initWidgets()}},{key:"initWidgets",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initWidgets");var t,n="cleverpush-widgets-shown",i=localStorage.getItem(n);if(i)try{t=JSON.parse(i)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("error parsing JSON",e)}t||(t=[]);var r=sessionStorage.getItem(n);if(r)try{t=t.concat(JSON.parse(r))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("error parsing JSON",e)}this.widgets=(this.widgets||[]).filter((function(e){return!t.includes(e._id)})),(this.config.widgets||[]).filter((function(e){return"selector"===e.autoAppendType})).forEach((function(e){try{if(e.autoAppendPath&&!new RegExp(e.autoAppendPath).test(window.location.pathname))return;if(e.autoAppendSelector){var t=document.querySelector(e.autoAppendSelector);if(t){var n=document.createElement("div");n.className="cleverpush-widget",n.dataset.id=e._id,e.autoAppendPosition&&"top"!==e.autoAppendPosition?"bottom"===e.autoAppendPosition&&t.appendChild(n):t.insertBefore(n,t.firstChild)}}}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn("Failed appending widget",e)}}));var o=!1,a=document.querySelectorAll(".cleverpush-content-button, .cleverpush-widget");a.length&&__webpack_require__.e(597).then(__webpack_require__.bind(__webpack_require__,2597)).then(function(){var i=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function i(r){var s;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:s=r.default,a.forEach(function(){var i=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function i(r,a){var _,c,u,l,f,h;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(_=(e.config.widgets||[]).some((function(e){return e._id===r.dataset.id})),_){i.next=6;break}return i.next=4,e.api.getWidget(r.dataset.id);case 4:c=i.sent,e.config.widgets.push(c);case 6:if(u=new s(a,r,e.config,e.subscriptionManager,e.api,e.trigger.bind(e)),l=u.elementConfig,f=e.isMobile&&l.enableRegularDisplayForMobile&&!l.exitIntentForMobile,h=u.isMessengerWidget("telegramChannel")||u.isMessengerWidget("facebookChannel"),!e.webPushUnsupported||h||u.hasSharedWidgetChannels()){i.next=12;break}return i.abrupt("return");case 12:if(!l.exitIntent||f){i.next=20;break}if(!o){i.next=15;break}return i.abrupt("return");case 15:e.isMobile&&l.exitIntentForMobile&&!l.enableRegularDisplayForMobile&&e.initMobileExitIntentListeners(WIDGET,false,r,u,t,n),o=!0,e.initElementExitIntentListener(WIDGET,false,r,u,t,n),i.next=21;break;case 20:e.shouldShowBanner(!1,u).then((function(i){i&&setTimeout((function(){var i;e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(){u.show(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.TOPICS_SET,(function(){u.show(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.TAGS_SET,(function(){u.show(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.UNSUBSCRIBED,(function(){u.show(!1)})),e.subscriptionManager||u.show(!1),null===(i=e.subscriptionManager)||void 0===i||i.isSubscribed().then((function(e){if(u.show(e),u.elementConfig.id&&u.element)if((0,_utils_dom__WEBPACK_IMPORTED_MODULE_8__.v4)(u.element))u.trackShown();else{window.addEventListener("scroll",(function e(){(0,_utils_dom__WEBPACK_IMPORTED_MODULE_8__.v4)(u.element)&&(window.removeEventListener("scroll",e),u.trackShown())}),!1)}})),e.markElementAsShown(t,u,n),e.widgets.push(u)}),1e3*(u.timeout||0))}));case 21:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}());case 2:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())}},{key:"initHideUnsupported",value:function(){for(var e=document.querySelectorAll(".cleverpush-hide-unsupported"),t=0;t<e.length;t+=1){e[t].style.setProperty("display","none","important")}}},{key:"initMultiPlatformWidgets",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initMultiPlatformWidgets"),this.multiPlatformWidgets=this.multiPlatformWidgets||[];var t=document.querySelectorAll(".cleverpush-multi-platform-widget");t.length&&__webpack_require__.e(491).then(__webpack_require__.bind(__webpack_require__,7491)).then((function(n){for(var i=n.default,r=function(n){var r=t[n],o=new i(n,r,e.config,e.subscriptionManager,e.api);e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(){o.reset("facebook"!==e.browserType,!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.UNSUBSCRIBED,(function(){o.reset("facebook"!==e.browserType,!1)})),e.waitForInit().then((function(){r&&r.dataset&&"web-push"===r.dataset.platform&&"facebook"===e.browserType?o.show(!1,!1):(o.subscriptionManager=e.subscriptionManager,e.subscriptionManager.isSubscribed().then((function(t){o.show("facebook"!==e.browserType,t)})).catch((function(){o.show("facebook"!==e.browserType,!1)})))})).catch((function(){o.show(!1,!1)})),e.multiPlatformWidgets.push(o)},o=0;o<t.length;o+=1)r(o)}))}},{key:"initTagButtons",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initTagButtons"),this.tagButtons=this.tagButtons||[];var t=document.querySelectorAll(".cleverpush-tag-button");t.length&&__webpack_require__.e(737).then(__webpack_require__.bind(__webpack_require__,5737)).then((function(n){for(var i=n.default,r=function(n){var r=t[n],o=new i(n,r,e.config,e.subscriptionManager,e.api,e.triggerOptIn.bind(e));e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(){o.reset(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.UNSUBSCRIBED,(function(){o.reset(!1)})),e.tagButtons.push(o)},o=0;o<t.length;o+=1)r(o)}))}},{key:"initTagSwitches",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initTagSwitches"),this.tagCheckboxes=this.tagCheckboxes||[];var t=document.querySelectorAll(".cleverpush-tag-switch");t.length&&__webpack_require__.e(699).then(__webpack_require__.bind(__webpack_require__,9699)).then((function(n){for(var i=n.default,r=function(n){var r=t[n],o=new i(n,r,e.config,e.subscriptionManager,e.api,e.triggerOptIn.bind(e));e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(){o.reset(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.UNSUBSCRIBED,(function(){o.reset(!1)})),e.tagCheckboxes.push(o)},o=0;o<t.length;o+=1)r(o)}))}},{key:"initTopicButtons",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initTopicButtons"),this.topicButtons=this.topicButtons||[];var t=document.querySelectorAll(".cleverpush-topic-button");t.length&&__webpack_require__.e(600).then(__webpack_require__.bind(__webpack_require__,5600)).then((function(n){for(var i=n.default,r=function(n){var r=t[n],o=new i(n,r,e.config,e.subscriptionManager,e.api,e.triggerOptIn.bind(e));e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(){o.reset(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.TOPICS_SET,(function(){o.init()})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.UNSUBSCRIBED,(function(){o.reset(!1)})),e.topicButtons.push(o)},o=0;o<t.length;o+=1)r(o)}))}},{key:"initPageBanners",value:function(){var e,t=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initPageBanners"),this.pageBanners=this.pageBanners||[],this.subscriptionManager&&this.subscriptionManager.storageManager&&(e=this.subscriptionManager.storageManager),(this.config.pageBannerNotifications||[]).reduce((function(t,n){return t.then((function(t){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(i){e?e.getNotification(n._id).then((function(e){i(e?t:t.concat(n))})).catch((function(){i(t.concat(n))})):i(t.concat(n))}))}))}),promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.resolve([])).then((function(n){n.length&&__webpack_require__.e(411).then(__webpack_require__.bind(__webpack_require__,3411)).then((function(i){var r=i.default;n.forEach((function(n){var i=new r(n,t.config,t.subscriptionManager,t.api);if((!n.scheduledAt||n.scheduledAt&&n.scheduledAt<new Date)&&(!n.expiresAt||n.expiresAt>new Date)){var o=!0;o&&n.pageBannerMatchPath&&(o=new RegExp(n.pageBannerMatchPath).test(window.location.pathname)),o&&n.pageBannerNotMatchPath&&(o=!new RegExp(n.pageBannerNotMatchPath).test(window.location.pathname)),o&&(i.show(),e&&(i.onClickCallback=function(){return e.addNotification({id:n._id,url:n.url,title:n.title,text:n.text,icon:n.iconUrl,media:n.mediaUrl,autoHide:n.autoHide,subscriptionId:"",channelId:t.config.channelId,scheduledAt:n.scheduledAt,createdAt:n.createdAt,expiresAt:n.expiresAt,clicked:0,markedAsDelivered:1})}))}t.pageBanners.push(i)}))}))})),this.config.pageBannerAdblockEnabled&&(0,_utils_adblock__WEBPACK_IMPORTED_MODULE_16__.Z)((function(e){e&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("AdBlock detected"),__webpack_require__.e(411).then(__webpack_require__.bind(__webpack_require__,3411)).then((function(e){new(0,e.default)({id:"adblockNotification",title:t.config.pageBannerAdblockTitle||"",text:t.config.pageBannerAdblockText||"",url:t.config.pageBannerAdblockUrl},t.config,t.subscriptionManager,t.api).show()})))}))}},{key:"setBannerSessionKey",value:function(e,t){e.multipleBannersBehaviour===BANNER_BEHAVIOUR_PER_SESSION&&sessionStorage.setItem(t,JSON.stringify(e._id))}},{key:"initChatWidget",value:function(){if(!window.cleverpushChatLoaded&&this.config.displayChatWidget&&this.config.chatWidgetPath&&new RegExp(this.config.chatWidgetPath).test(location.pathname)){var e=document.createElement("script");e.src="https://static.cleverpush.com/sdk/cleverpush-chat.js",document.head.appendChild(e)}}},{key:"showWebBannerById",value:function(e,t){var n=this,i=(this.config.webBanners||[]).find((function(t){return t._id===e}));if(i){var r=!1;__webpack_require__.e(728).then(__webpack_require__.bind(__webpack_require__,8728)).then((function(e){var o=e.default,a=i;if(a.tests)if(t){var s,_=a.tests.findIndex((function(e){return e.id===t}));if(_>-1)a=_objectSpread(_objectSpread(_objectSpread({},a),a.tests[_]),{},{testId:"variant_".concat(_,":").concat(null===(s=a.tests[_])||void 0===s?void 0:s.id)})}else a=(0,_utils_randomTestVariant__WEBPACK_IMPORTED_MODULE_23__.I)(a);var c=function(){if(!r){r=!0;var e=new o(a,n.config,n.subscriptionManager,n.api,n.log,n.trigger);e.show(),n.webBanners||(n.webBanners=[]),n.webBanners.push(e)}};if(!isNaN(a.scrollPercentage)&&a.scrollPercentage>0){var u=function e(){((0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.r0)()>=a.scrollPercentage||0===a.scrollPercentage)&&(window.removeEventListener("scroll",e),c())};window.addEventListener("scroll",u),u()}else if(!isNaN(a.scrollPixels)&&a.scrollPixels>0){var l=function e(){((0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.J_)()>=a.scrollPixels||0===a.scrollPixels)&&(window.removeEventListener("scroll",e),c())};window.addEventListener("scroll",l),l()}else c()}))}else _utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn("cleverPushWebBannerId parameter given but banner with that ID could not be found")}},{key:"initWebBanners",value:function(){var e,t,n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initWebBanners");var i,r="cleverpush-webbanners-shown",o=localStorage.getItem(r),a=localStorage.getItem("cleverpush-banner-opened");if(o)try{i=JSON.parse(o)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("error parsing JSON",e)}i||(i=[]);var s=sessionStorage.getItem(r);if(s)try{i=i.concat(JSON.parse(s))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("error parsing JSON",e)}if(a)try{i=i.concat(JSON.parse(a))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("error parsing JSON",e)}this.webBanners=this.webBanners||[];var _,c=!1,u=!1,l=(this.config.webBanners||[]).filter((function(e){return!i.includes(e._id)&&"draft"!==e.status})),f=l.filter((function(e){return e.multipleBannersBehaviour&&"default"!==e.multipleBannersBehaviour}));if(l.length&&__webpack_require__.e(728).then(__webpack_require__.bind(__webpack_require__,8728)).then((function(e){var t=e.default;f.length&&(l=f),l.forEach(function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(o){var a,s,_;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,_utils_randomTestVariant__WEBPACK_IMPORTED_MODULE_23__.I)(o),s=new t(a,n.config,n.subscriptionManager,n.api,n.log,n.trigger),_=n.isMobile&&a.enableRegularDisplayForMobile&&!a.exitIntentForMobile,a.startsAt&&!(new Date(a.startsAt)<new Date)||a.endsAt&&!(new Date(a.endsAt)>new Date)){e.next=19;break}if(!sessionStorage.getItem(SESSION_BANNER_DISPLAY_KEY)||a.multipleBannersBehaviour!==BANNER_BEHAVIOUR_PER_SESSION){e.next=6;break}return e.abrupt("return");case 6:if(!a.exitIntent||_){e.next=18;break}if(!c){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,(0,_utils_matchElementPathAndDomain__WEBPACK_IMPORTED_MODULE_22__.c)(!0,a,!0);case 11:if(e.sent){e.next=13;break}return e.abrupt("return");case 13:n.isMobile&&a.exitIntentForMobile&&!a.enableRegularDisplayForMobile&&n.initMobileExitIntentListeners(WEB_BANNER,u,a,s,i,r),c=!0,n.initElementExitIntentListener(WEB_BANNER,u,a,s,i,r),e.next=19;break;case 18:n.shouldShowBanner(u,a).then((function(e){e&&(n.setBannerSessionKey(a,SESSION_BANNER_DISPLAY_KEY),setTimeout((function(){n.displayElement(s,i,a,r,_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.BANNER_SHOWN)}),1e3*(a.timeout||0)))}));case 19:n.webBanners.push(s);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),"undefined"!=typeof URLSearchParams&&location.search&&location.search.length&&(_=new URLSearchParams(location.search.slice(1))).get("cleverPushWebBannerId")){var h=_.get("cleverPushWebBannerId").split("-"),d=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_32__.Z)(h,2),p=d[0],g=d[1];this.showWebBannerById(p,g)}var b=_&&"true"===_.get("cleverPushAppDownloadBanner");if(null!==(e=this.config.appDownloadBanner)&&void 0!==e&&e.enabled&&!(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.vp)()&&(this.config.appDownloadBanner.androidId&&this.config.appDownloadBanner.androidEnabled&&"Android"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name||this.config.appDownloadBanner.appleId&&this.config.appDownloadBanner.iosEnabled&&"iOS"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name)||b){var E=localStorage.getItem("cleverpush-app-download-banner-shown"),m=this.config.appDownloadBanner,v=this.config.appDownloadBanner.settings||{};if(E&&!b)return;__webpack_require__.e(453).then(__webpack_require__.bind(__webpack_require__,5453)).then((function(e){(0,e.shouldShowAppDownloadBanner)(E,m,v,n.config,n.subscriptionManager,n.api)}))}var P=_&&"true"===_.get("cleverPushHomeScreenBanner");if(null!==(t=this.config.homeScreenBanner)&&void 0!==t&&t.enabled&&!(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.vp)()&&"iOS"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name&&"Mobile Safari"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Xh.name&&(_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_>16||16===_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_&&_utils_env__WEBPACK_IMPORTED_MODULE_20__.KK>=4)&&!window.matchMedia("(display-mode: standalone)").matches||P){var w=localStorage.getItem("cleverpush-home-screen-banner-shown"),I=this.config.homeScreenBanner,O=this.config.homeScreenBanner.settings||{};if(w&&!P)return;__webpack_require__.e(467).then(__webpack_require__.bind(__webpack_require__,9467)).then((function(e){(0,e.shouldShowHomeScreenBanner)(w,I,O,n.config,n.api)}))}}},{key:"enableWebBanners",value:function(){this.webBannersDisabled&&(this.webBannersDisabled=!1,this.initWebBanners())}},{key:"disableWebBanners",value:function(){this.webBannersDisabled=!0,this.pendingWebBanners=[],this.elementExitIntentListener&&(this.elementExitIntentListener.disable(),this.elementExitIntentListener=null)}},{key:"initMobileExitIntentListeners",value:function(e,t,n,i,r,o){var a=this,s=this.isMobile&&n.exitIntentForMobile&&n.backButtonForMobileExitIntent,_=this.isMobile&&n.exitIntentForMobile&&n.scrollingForMobileExitIntent,c=!1,u=!1,l=function(){var s=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function s(){var _,c;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!u){s.next=2;break}return s.abrupt("return");case 2:if(u=!0,_=!t,e===OPT_INS){s.next=8;break}return s.next=7,(0,_utils_matchElementPathAndDomain__WEBPACK_IMPORTED_MODULE_22__.c)(_,n);case 7:_=s.sent;case 8:if(c={webBanner:_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.BANNER_SHOWN,widget:_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.WIDGET_SHOWN,optIns:_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.OPTIN_SHOWN}[e]){s.next=11;break}return s.abrupt("return");case 11:e===OPT_INS&&a.triggerOptIn(!0),_&&a.displayElement(i,r,n,o,c);case 13:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}(),f=function(){var e,t,n,i=MOBILE_SCROLL_POSITION_DELAY_VALUE;function r(){e=null,n=0}return r(),function(){var o=window.scrollY;return null!=e&&(n=o-e),e=o,clearTimeout(t),t=setTimeout(r,i),n}}();return history.replaceState(null,document.title,"".concat(location.pathname).concat(MOBILE_EXIT_INTENT_LOCATION_HASH)),history.pushState(null,document.title,location.pathname),_&&window.addEventListener("scroll",(function(){var e=f();(c||e<MOBILE_DELTA_VALUE)&&l()})),s&&window.addEventListener("popstate",(function(){c=!0,location.hash===MOBILE_EXIT_INTENT_LOCATION_HASH&&(history.replaceState(null,document.title,location.pathname),l())})),c}},{key:"initElementExitIntentListener",value:function(e,t,n,i,r,o){var a=this;__webpack_require__.e(499).then(__webpack_require__.t.bind(__webpack_require__,5499,23)).then((function(s){var _,c=s.default;a.webBannersDisabled&&e===WEB_BANNER||(a.elementExitIntentListener=c(null,{aggressive:!0,callback:(_=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function s(){var _;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return _=!t,s.next=3,(0,_utils_matchElementPathAndDomain__WEBPACK_IMPORTED_MODULE_22__.c)(_,i);case 3:(_=s.sent)&&(e===WEB_BANNER&&a.setBannerSessionKey(n,SESSION_BANNER_DISPLAY_KEY),a.displayElement(i,r,n,o,e===WEB_BANNER?_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.BANNER_SHOWN:_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.WIDGET_SHOWN));case 5:case"end":return s.stop()}}),s)}))),function(){return _.apply(this,arguments)})}))}))}},{key:"markElementAsShown",value:function(e,t,n){if("once"===t.frequency)e.push(t._id),localStorage.setItem(n,JSON.stringify(e));else if("oncePerSession"===t.frequency)e.push(t._id),sessionStorage.setItem(n,JSON.stringify(e));else if("everyXSessions"===t.frequency){var i=parseInt(localStorage.getItem("".concat(n,"-sessions")),10)||0;i>=t.frequencyInterval?(localStorage.removeItem("".concat(n,"-sessions")),sessionStorage.removeItem("".concat(n,"-counted")),e.splice(e.indexOf(t._id),1)):(localStorage.setItem("".concat(n,"-sessions"),"".concat(i+1)),sessionStorage.setItem("".concat(n,"-counted"),"true"),e.includes(t._id)||e.push(t._id)),localStorage.setItem(n,JSON.stringify(e))}}},{key:"displayElement",value:function(e,t,n,i,r){e.show(),this.markElementAsShown(t,n,i),this.trigger(r,{bannerId:null==n?void 0:n._id,testId:null==n?void 0:n.testId})}},{key:"initTags",value:function(){var e=this,t=function(){e.subscriptionManager.storageManager.getTags().then((function(t){var n=e.config.channelTags;(0,_utils_tags__WEBPACK_IMPORTED_MODULE_14__.e)(n,t,e.tagSubscription.bind(e),e.waitForSubscription.bind(e),location.pathname)}))};this.config.trackTagsOnlyWhenTopicEnabled&&this.config.trackTagsOnlyWhenTopicEnabledIds.length?this.subscriptionManager.storageManager.getTopics().then((function(n){e.config.trackTagsOnlyWhenTopicEnabledIds.every((function(e){return n.includes(e)}))?t():e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.TOPICS_SET,e.initTags)})):t()}},{key:"initAttributes",value:function initAttributes(){var _this18=this;(this.config.customAttributes||[]).forEach((function(attribute){if(attribute.javascriptFunctionEnabled&&attribute.javascriptFunction)try{var value=eval(attribute.javascriptFunction);if("object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(value)&&value.then)try{value.then((function(e){_this18.setAttribute(attribute.id,e)}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}else void 0!==value&&_this18.setAttribute(attribute.id,value)}catch(e){}})),this.config.confirmAlertSelectAttributesLater&&Promise.all([__webpack_require__.e(103),__webpack_require__.e(376),__webpack_require__.e(862)]).then(__webpack_require__.bind(__webpack_require__,4862)).then((function(e){var t=e.default;_this18.selectAttributes=new t(_this18.config,_this18),_this18.subscriptionManager.isSubscribed().then((function(e){e?_this18.selectAttributes.init():_this18.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(){_this18.selectAttributes.init()}))}))}))}},{key:"showTopicLayer",value:function(e,t){var n=this;this.waitForSubscription().then((function(){n.subscriptionManager.storageManager.getTopics().then((function(i){var r=n.config.channelTopics||[],o="string"==typeof e?r.find((function(t){return t._id===e})):e;if(o&&!i.includes(o._id)){var a,s="cleverpush-topic-layerShown-".concat(o._id),_="cleverpush-topic-layer-visits-".concat(o._id);if(void 0!==t&&t.frequencyCappingVisits)if(a=t.frequencyCappingVisits,!!localStorage.getItem(s)){var c=parseInt(localStorage.getItem(_),_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ)||_const_common__WEBPACK_IMPORTED_MODULE_21__.xl;if(localStorage.setItem(_,"".concat(c+1)),c<a)return;localStorage.removeItem(_)}(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("showTopicLayer",e);var u={title:o.layerTitle||"Möchtest du Neuigkeiten zu ".concat(o.name," erhalten?"),deny:o.layerDenyText||"Nein",allow:o.layerAllowText||"Ja",info:o.layerInfo||" "};Object.keys(u).forEach((function(e){void 0===u[e]&&delete u[e]}));var l=r.filter((function(e){return e.parentTopic===o._id})).length>0,f=o.layerTheme||n.config.layerTheme||n.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default";n.waitForConfirmAvailable().then((function(){n.subscriptionManager.confirm.appendConfirmBox(f,l,{topicsLayer:!0,customLocalization:u,parentTopic:o._id,topicsRadioButtons:o.childTopicsRadioButtons,topicsRequired:o.childTopicsRequired},(function(e,t){e&&t?(n.setTopics((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_31__.Z)(new Set([].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_31__.Z)(i),(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_31__.Z)(t),[o._id])))),localStorage.setItem(s,"".concat(Date.now()))):a?localStorage.setItem(s,"".concat(Date.now())):sessionStorage.setItem(s,"".concat(Date.now()))}))}))}}))}))}},{key:"initTopics",value:function initTopics(){var _this20=this;this.waitForSubscription().then((function(){_this20.subscriptionManager.storageManager.getTopics().then((function(storedTopics){var topics=_this20.config.channelTopics;if(null!=topics&&topics.length&&"undefined"!=typeof localStorage){var topicFound=!1;topics.forEach((function(topic){var topicLayerShownKey="cleverpush-topic-layerShown-".concat(topic._id),visitsStorageKey="cleverpush-topic-layer-visits-".concat(topic._id),topicMatches=topic.layerMatchPath&&new RegExp(topic.layerMatchPath).test(location.pathname);if(topic.layerFunction&&topicMatches)try{topicMatches=!!eval(topic.layerFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}if(topic.layerEnabled&&!localStorage.getItem(topicLayerShownKey)&&!sessionStorage.getItem(topicLayerShownKey)&&!storedTopics.includes(topic._id)&&topicMatches){if(topicFound)return;_this20.subscriptionManager.triggerEvent(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.TOPICS_LAYER_SHOWN,topic._id);var finalizeShow=function(){_this20.showTopicLayer(topic)},_show2=function(){if(topicFound=!0,!isNaN(topic.layerScrollPercentage)&&topic.layerScrollPercentage>0){var e=function e(){(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.r0)()>=topic.layerScrollPercentage&&(window.removeEventListener("scroll",e),finalizeShow())};window.addEventListener("scroll",e),e()}else finalizeShow()},visitsNeeded=isNaN(topic.layerMinimumVisits)?0:topic.layerMinimumVisits,visitsStorage=localStorage,visitsStr=visitsStorage.getItem(visitsStorageKey),visits=0;"string"!=typeof visitsStr||isNaN(visitsStr)||(visits=parseInt(visitsStr,_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ)),visits>=visitsNeeded?!isNaN(topic.layerTimeout)&&topic.layerTimeout?setTimeout((function(){_show2()}),1e3*topic.layerTimeout):_show2():(visits+=1,visitsStorage.setItem(visitsStorageKey,visits.toString()))}}))}}))}))}},{key:"initConversions",value:function initConversions(){var _this21=this;(this.config.channelEvents||[]).forEach((function(event){var trackConversion=function trackConversion(){if(event.amountFunction)try{var amount=eval(event.amountFunction);return void _this21.trackConversion(event._id,amount)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}_this21.trackConversion(event._id)};if(event&&event._id)if("path"===event.triggerType&&event.triggerPath&&(0,_utils_matchElementPathAndDomain__WEBPACK_IMPORTED_MODULE_22__.G)(event.triggerPath))trackConversion();else if("function"===event.triggerType&&event.triggerFunction)try{var trigger=!!eval(event.triggerFunction);trigger&&trackConversion()}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}else if("selector"===event.triggerType&&event.triggerSelector)for(var triggerElements=document.querySelectorAll(event.triggerSelector),triggerElementIndex=0;triggerElementIndex<triggerElements.length;triggerElementIndex+=1){var triggerElement=triggerElements[triggerElementIndex];triggerElement&&triggerElement.addEventListener("click",(function(){trackConversion()}),!0)}}))}},{key:"initPiano",value:function(){var e=this;(0,_utils_piano__WEBPACK_IMPORTED_MODULE_15__.tw)((function(){e.subscriptionManager&&e.subscriptionManager.isSubscribed().then((function(t){t&&e.subscriptionManager.sync().then((function(){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Piano Opt-Out")}))}))}))}},{key:"initTcf",value:function(){var e=this;this.config.tcfAutoUnsubscribe&&this.waitForInit().then((function(){__webpack_require__.e(754).then(__webpack_require__.bind(__webpack_require__,7754)).then((function(t){(0,t.default)(e.subscriptionManager)}))}))}},{key:"initDuplicateSubscriptions",value:function(){var e=this,t=this.config.duplicateChannels;t&&t.length&&this.subscriptionManager.getSubscriptionId().then((function(t){t&&Promise.all([__webpack_require__.e(251),__webpack_require__.e(8)]).then(__webpack_require__.bind(__webpack_require__,9008)).then((function(n){(0,n.default)(e.config,e.api,t)}))}))}},{key:"initAutoUnsubscribeDuplicateSubscriptions",value:function(e,t){var n=this;this.config.autoUnsubscribeDuplicateSubscriptions&&e!==t&&t&&__webpack_require__.e(436).then(__webpack_require__.bind(__webpack_require__,5436)).then((function(i){(0,i.default)(n.config,n.api,n.subscriptionManager,e,t)}))}},{key:"updateSpeechbubblePanelUnread",value:(_updateSpeechbubblePanelUnread=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(){var t,n,i,r,o=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=document.querySelectorAll("a[href='#cleverpush-bell-speechbubble']")).length){e.next=22;break}return e.prev=2,e.next=5,this.subscriptionManager.isSubscribed();case 5:if(i=e.sent,r=Number(localStorage.getItem(_const_common__WEBPACK_IMPORTED_MODULE_21__.jf)),!i){e.next=16;break}if(sessionStorage.getItem(_const_common__WEBPACK_IMPORTED_MODULE_21__.$t)){e.next=15;break}return e.next=11,this.hasUnreadNotifications();case 11:n=e.sent,sessionStorage.setItem(_const_common__WEBPACK_IMPORTED_MODULE_21__.$t,n),e.next=16;break;case 15:r&&(n=!0);case 16:t.forEach((function(e){var t=e.querySelector(".cleverpush-unread-notifications-count");t&&t.parentNode.removeChild(t),n&&i?(e.classList.add(_const_common__WEBPACK_IMPORTED_MODULE_21__.Jj),r&&o.appendCounterElement(e)):e.classList.remove(_const_common__WEBPACK_IMPORTED_MODULE_21__.Jj)})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.info("Error while fetching notifications");case 22:case"end":return e.stop()}}),e,this,[[2,19]])}))),function(){return _updateSpeechbubblePanelUnread.apply(this,arguments)})},{key:"appendCounterElement",value:function(e){var t=localStorage.getItem(_const_common__WEBPACK_IMPORTED_MODULE_21__.jf),n=parent.document.createElement("span");n.className="cleverpush-unread-notifications-count",n.innerText=t,e.appendChild(n)}},{key:"initSpeechbubblePanels",value:(_initSpeechbubblePanels=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(){var t,n=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=document.querySelectorAll("a[href='#cleverpush-bell-speechbubble']")).length)try{this.updateSpeechbubblePanelUnread(),this.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(){return n.updateSpeechbubblePanelUnread()})),this.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.UNSUBSCRIBED,(function(){return n.updateSpeechbubblePanelUnread()})),t.forEach((function(e){e.addEventListener("click",function(){var t=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function t(i){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),t.next=3,n.subscriptionManager.isSubscribed();case 3:t.sent?n.showSpeechbubbleInlinePanel(e):n.triggerOptIn(!0,(function(t){t&&e.classList.contains(_const_common__WEBPACK_IMPORTED_MODULE_21__.Jj)&&e.classList.remove(_const_common__WEBPACK_IMPORTED_MODULE_21__.Jj)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("Error while initializing speechbubble panels",e)}case 2:case"end":return e.stop()}}),e,this)}))),function(){return _initSpeechbubblePanels.apply(this,arguments)})},{key:"getNotifications",value:(_getNotifications=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t){var n,i,r=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(e){r.isSubscribed((function(t){e(t)}))}));case 2:return n=e.sent,e.next=5,this.subscriptionManager.hasNotificationsStoredInBrowserDb();case 5:if(i=e.sent,!n||!i){e.next=9;break}return this.getDeliveredNotifications(t),e.abrupt("return");case 9:this.getRemoteNotifications(t);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return _getNotifications.apply(this,arguments)})},{key:"getDeliveredNotifications",value:function(e){this.subscriptionManager.getDeliveredNotifications().then((function(t){null==e||e(t)}))}},{key:"getRemoteNotifications",value:function(e){this.subscriptionManager.getStoredNotifications().then((function(t){null==e||e(t)}))}},{key:"hasUnreadNotifications",value:function(){var e=this;return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t,n){e.subscriptionManager.getStoredNotifications().then((function(n){var i=e.subscriptionManager.storageManager;if(i.checkUnreadNotifications){var r=i.checkUnreadNotifications(n);t(r)}else t(!1)})).catch((function(e){n(new Error(e))}))}))}},{key:"showSpeechbubbleInlinePanel",value:function(e){var t=this;this.panel?this.panel.showSpeechbubblePanel(e):__webpack_require__.e(34).then(__webpack_require__.bind(__webpack_require__,6034)).then((function(n){var i=n.default;t.panel=new i(t.config,t.subscriptionManager,t.trigger.bind(t),t.api),t.panel.showSpeechbubblePanel(e)}))}},{key:"getNotificationPermission",value:function(){var e=this;return this.waitForInit().then((function(){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){e.config.ownDomain&&"https:"===location.protocol?"safari"===e.browserType?e.config.safariWebsitePushId?t(window.safari.pushNotification.permission(e.config.safariWebsitePushId).permission):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Safari website push ID is unknown."):"facebook"===e.browserType||"wallet"===e.browserType?t("default"):t(window.Notification.permission):e.iframeMessenger.message(_messenger_command__WEBPACK_IMPORTED_MODULE_10__.Z.REMOTE_NOTIFICATION_PERMISSION,null,(function(e){var n=e.data;t(n)}))}))}))}},{key:"push",value:function(e){if("function"==typeof e)e();else if("string"==typeof e)this.push(arguments);else{var t=e.shift();this[t].apply(this,e)}}},{key:"executeFunction",value:function(){var e=[],t=this[(e=arguments&&"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(arguments[0])?arguments[0]:arguments)[0]];"function"==typeof t&&t.apply(this,Array.prototype.slice.call(e,1))}},{key:"waitForInit",value:function(){var e=this;return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t,n){e.initFailed?n(e.initError):e.initialized?t():(e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.INITIALIZED,t),e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.INITIALIZATION_FAILED,n))}))}},{key:"waitForConfigAvailable",value:function(){var e=this;return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){e.configLoaded?t():e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.CONFIG_AVAILABLE,t)}))}},{key:"waitForConfirmAvailable",value:function(){var e=this;return this.waitForInit().then((function(){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){e.confirm?t():e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.CONFIRM_AVAILABLE,t)}))}))}},{key:"waitForSubscription",value:function(){var e=this;return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t,n){e.waitForInit().then((function(){var n=function n(i){e.subscriptionManager.getSubscriptionId().then((function(r){r||i?t(r):e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(){return n(!0)}))}))};e.urlSession?n():e.subscriptionManager.isSubscribed().then((function(t){t?n():e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,n)}))})).catch(n)}))}},{key:"waitForBell",value:function(){var e=this;return this.waitForInit().then((function(){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){e.bell?t():e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.BELL_READY,t)}))}))}},{key:"isSubscribed",value:function(e){var t=this;return this.waitForInit().then((function(){return t.subscriptionManager.isSubscribed().then((function(t){return e(t)}))})).catch((function(){return e(!1)}))}},{key:"getSubscriptionId",value:function(e){var t=this;return this.waitForInit().then((function(){t.subscriptionManager.isSubscribed().then((function(n){n?t.subscriptionManager.getSubscriptionId().then((function(t){e(t)})):e(!1)}))})).catch((function(){e(!1)}))}},{key:"subscribe",value:function(e){var t=this;return this.initialized?this.subscriptionManager.subscribe().then((function(){return t.subscriptionManager.getSubscriptionId().then((function(t){return e(!1,t)}))})).catch((function(t){return e(t)})):this.waitForInit().then((function(){return t.subscriptionManager.subscribe().then((function(){return t.subscriptionManager.getSubscriptionId().then((function(t){return e(!1,t)}))}))})).catch((function(t){return e(t)}))}},{key:"triggerOptIn",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("triggerOptIn",e,t);var i="function"==typeof t?t:e,r="boolean"==typeof e&&e,o="function"==typeof i?i:function(e){e&&("unsubscribed"!==e.reason&&"subscribed"!==e.reason||_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info(e.message||e),"unsupported-browser"===e.reason||"private-mode"===e.reason||"already-initialized"===e.reason||"init-already-called"===e.reason||"unsubscribed"===e.reason?_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn(e.message||e):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error(e.message||e))};return this.waitForConfirmAvailable().then((function(){var e=function(){n.subscriptionManager.getSubscriptionId().then((function(e){o(!1,e)}))};(r?promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.resolve(!0):n.subscriptionManager.canSubscribe()).then(function(){var t=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function t(i){var r,a,s,_;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==i){t.next=10;break}return t.next=3,n.subscriptionManager.getNotificationPermission();case 3:r=t.sent,n.confirm&&(n.config.showConfirmAlert||!n.config.ownDomain||"https:"!==window.parent.location.protocol&&"localhost"!==window.top.location.hostname)?(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("this.confirm.show 1"),n.confirm.setAutoHideBackdrop("granted"===r||(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.Dt)()),n.confirm.show((function(t){t?o(t):e()}))):n.subscriptionManager.isSubscribing||(a="default"===r||"PREVIEW"===n.config.env,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("showBackdrop",a),s=function(t){"PREVIEW"!==n.config.env&&n.subscriptionManager.subscribe().then((function(i){"function"==typeof t&&t(),n.confirm&&a&&n.confirm.hideBackdrop(i),"denied"===i?(n.confirm&&"safari"!==n.browserType&&n.confirm.showDenyAlert(),o(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("Permission for notifications was denied",i))):e()})).catch((function(e){"function"==typeof t&&t(),n.confirm&&a&&n.confirm.hideBackdrop("denied"),o(e)}))},n.confirm&&a?(0,_utils_detect__WEBPACK_IMPORTED_MODULE_12__.F)({subscriptionManager:n.subscriptionManager,config:n.config,subscribe:s,showBackdrop:function(){n.confirm.showBackdrop()},setShowBackdrop:function(e){a=e}}):s()),_="granted"===r,n.subscriptionManager.existingPermission=_,n.config.noExistingPermissionOptIns&&_||(n.optInVisitorTracked||(n.optInVisitorTracked=!0,n.api.trackOptInVisitor()),n.api.confirmAlertShown(n.subscriptionManager.existingPermission),n.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.OPTIN_SHOWN)),t.next=11;break;case 10:o(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("Can not subscribe because of an unknown error","cannot-subscribe"));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){t&&"subscribed"===t.reason?(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("running successCallback()"),e()):o(t)}))})).catch((function(e){o(e)}))}},{key:"unsubscribe",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("unsubscribe");var i="function"==typeof e?e:function(e){e&&_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error(e.stack||e.message||e)},r="boolean"==typeof t&&t;this.waitForInit().then((function(){n.subscriptionManager.unsubscribe(r).then((function(){i(!1,!0)})).catch((function(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error(e),i(!1)}))}))}},{key:"tagSubscription",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("tagSubscription",e);var i="function"==typeof t?t:function(){};this.waitForInit().then((function(){n.subscriptionManager&&n.subscriptionManager.initialTags.push(e),n.waitForSubscription().then((function(t){e?n.subscriptionManager.storageManager.getTags().then((function(r){var o=n.subscriptionManager.storageManager.getTagDate(e);r.indexOf(e)<0||!o||o.getTime()<Date.now()-432e5?(n.subscriptionManager.storageManager.setTags([].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_31__.Z)(r),[e])),n.api.tagSubscription(t,e).then((function(e){n.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.TAGS_SET),i(e)})).catch(i)):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("tag is already in stored tags")})):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("tag id not specified")}))}))}},{key:"untagSubscription",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("untagSubscription",e);var i="function"==typeof t?t:function(){};this.waitForInit().then((function(){n.waitForSubscription().then((function(t){e?(n.subscriptionManager.storageManager.getTags().then((function(t){t.splice(t.indexOf(e),1),n.subscriptionManager.storageManager.setTags(t)})),n.api.untagSubscription(t,e).then((function(e){n.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.TAGS_SET),i(e)})).catch(i)):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("tag id not specified")}))}))}},{key:"hasTag",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("hasTag",e),this.waitForInit().then((function(){e?n.subscriptionManager.storageManager.hasTag(e).then((function(e){"function"==typeof t&&t(e)})):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("tag id not specified")}))}},{key:"hasAttribute",value:function(e,t,n){var i=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("hasAttribute",e),this.waitForInit().then((function(){e?i.subscriptionManager.storageManager.hasAttribute(e,t).then((function(e){"function"==typeof n&&n(e)})):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("attribute id not specified")}))}},{key:"setTopics",value:function(e,t){var n=this;return(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("setTopics",e),this.waitForInit().then((function(){return n.subscriptionManager?(n.subscriptionManager.setTopics(e),n.subscriptionManager.sync().then((function(){"function"==typeof t&&t()}))):promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.reject()}))}},{key:"getTopics",value:function(e){var t=this;return(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("getTopics"),"function"!=typeof e?(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("Please provide a callback function (err, topics) => {} to getTopics"),promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.reject()):this.waitForInit().then((function(){t.subscriptionManager&&t.subscriptionManager.getTopics().then((function(t){e(null,t)}))}))}},{key:"setAttribute",value:function(e,t,n){var i=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("setAttribute",e,t);var r=t;"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(r)&&(r=JSON.stringify(r));var o=function(r){var o=r.subscriptionId,a=r.alradyExists;o&&!a&&i.api.setSubscriptionAttribute(o,e,t).then((function(){"function"==typeof n&&n(!1,!0)}))},a=function(){return localStorage.getItem("cleverpush-attribute-".concat(e))==="".concat(r)?{alreadyExists:!0}:(localStorage.setItem("cleverpush-attribute-".concat(e),r),{alreadyExists:!1})};this.waitForConfigAvailable().then((function(){if(i.config.attributesWithoutSubscriptionEnabled){var e=a().alreadyExists;i.waitForInit().then((function(){i.waitForSubscription().then((function(t){o({subscriptionId:t,alreadyExists:e})}))}))}else i.waitForInit().then((function(){i.waitForSubscription().then((function(e){var t=a().alreadyExists;o({subscriptionId:e,alreadyExists:t})}))}))}))}},{key:"incAttribute",value:function(e,t,n){var i=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("incAttribute",e,t);var r=parseInt(t,_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ);isNaN(r)&&(r=1);var o=parseInt(localStorage.getItem("cleverpush-attribute-".concat(e)),_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ)||0;o+=r,this.waitForInit().then((function(){i.waitForSubscription().then((function(t){localStorage.setItem("cleverpush-attribute-".concat(e),"".concat(o)),i.api.setSubscriptionAttribute(t,e,o).then((function(){"function"==typeof n&&n(!1,!0)}))}))}))}},{key:"getAttribute",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("getAttribute",e),this.waitForInit().then((function(){n.waitForSubscription().then((function(){t(localStorage.getItem("cleverpush-attribute-".concat(e)))}))}))}},{key:"hasAttributeValue",value:function(e,t,n){var i=t;"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(i)&&(i=JSON.stringify(i));var r=localStorage.getItem("cleverpush-attribute-".concat(e));if(r)try{var o=JSON.parse(r);if(o&&o.length)return void n(o.indexOf(i)>-1)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("Error parsing attribute value",e)}n(!1)}},{key:"pushAttributeValue",value:function(e,t,n,i){var r=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("pushAttributeValue",e,t);var o=t;"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(o)&&(o=JSON.stringify(o));var a=i,s={};"function"==typeof n?a=n:"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(n)&&(s=n),this.waitForInit().then((function(){r.waitForSubscription().then((function(n){var i=!1,_=localStorage.getItem("cleverpush-attribute-".concat(e));if(_)try{var c=JSON.parse(_);c&&c.length?c.indexOf(o)>-1?i=!0:localStorage.setItem("cleverpush-attribute-".concat(e),JSON.stringify([].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_31__.Z)(c),[o]))):localStorage.setItem("cleverpush-attribute-".concat(e),JSON.stringify([o]))}catch(t){localStorage.setItem("cleverpush-attribute-".concat(e),JSON.stringify([o]))}else localStorage.setItem("cleverpush-attribute-".concat(e),JSON.stringify([o]));i&&!s.force||r.api.pushSubscriptionAttributeValue(n,e,t).then((function(){"function"==typeof a&&a(!1,!0)}))}))}))}},{key:"pullAttributeValue",value:function(e,t,n){var i=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("pullAttributeValue",e,t);var r=t;"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_29__.Z)(r)&&(r=JSON.stringify(r)),this.waitForInit().then((function(){i.waitForSubscription().then((function(o){var a=localStorage.getItem("cleverpush-attribute-".concat(e));if(a)try{var s=JSON.parse(a);s&&s.length&&s.indexOf(r)>-1&&(s.splice(s.indexOf(r),1),localStorage.setItem("cleverpush-attribute-".concat(e),JSON.stringify(s)))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("Error pulling attribute value",e)}i.api.pullSubscriptionAttributeValue(o,e,t).then((function(){"function"==typeof n&&n(!1,!0)}))}))}))}},{key:"trigger",value:function(e,t){if(t||!1===t?_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("%c".concat(null==e?void 0:e.toUpperCase(),":"),(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.To)("event"),t):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("%c".concat(null==e?void 0:e.toUpperCase()),(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.To)("event")),(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.jU)()){if(e===_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.INITIALIZED){if(this.initialized)return;this.initialized=!0}this.emit(e,t)}}},{key:"triggerBellClick",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("triggerBellClick"),this.waitForInit().then((function(){e.webPushUnsupported?alert((0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("alert.unsupported")):e.subscriptionManager.isSubscribed().then((function(t){e.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.BELL_CLICKED),e.bell?e.bell.onClick():t?e.panel?e.panel.show():__webpack_require__.e(34).then(__webpack_require__.bind(__webpack_require__,6034)).then((function(t){var n=t.default;e.panel=new n(e.config,e.subscriptionManager,e.trigger.bind(e),e.api),e.panel.show()})):e.triggerOptIn(!0,(function(t,n){!t&&n&&(e.updateSpeechbubblePanelUnread(),e.panel?e.panel.show():__webpack_require__.e(34).then(__webpack_require__.bind(__webpack_require__,6034)).then((function(t){var n=t.default;e.panel=new n(e.config,e.subscriptionManager,e.trigger.bind(e),e.api),e.panel.show()})))}))}))})).catch((function(){e.webPushUnsupported&&alert((0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("alert.unsupported"))}))}},{key:"hidePanel",value:function(){this.panel&&this.panel.hide()}},{key:"translate",value:function(e){return(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)(e)}},{key:"initBounces",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initBounces");try{var t;if((0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.MD)()&&"undefined"!=typeof URLSearchParams){var n,i;if(location.search&&location.search.length){var r=new URLSearchParams(location.search.slice(1));t=r.get("cleverPushBounceUrl"),n=r.get("cleverPushBounceDevice"),i=r.get("cleverPushNotificationId")}if(!t&&location.hash&&0===location.hash.indexOf("#?")){var o=new URLSearchParams(location.hash.slice(2));t=o.get("cleverPushBounceUrl"),n=o.get("cleverPushBounceDevice"),i||(i=o.get("cleverPushNotificationId"))}try{if(t)decodeURIComponent(t).replace(/[^\w:]/gi,"").toLowerCase().includes("javascript:")&&(t=void 0)}catch(e){t=void 0}n&&("mobile"===n&&"mobile"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type||"tablet"===n&&"tablet"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type||"desktop"===n&&("table"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type||"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type))&&(t=void 0),t&&this.initBounce(t,i)}if(!t&&this.config&&this.config.bounceEnabled&&this.config.bounceFilters&&this.config.bounceFilters.length){var a=document.referrer&&(document.referrer.endsWith("cleverpush.com/worker.js")||document.referrer.endsWith(this.config.serviceWorkerFile||document.referrer.endsWith("/cleverpush-worker.js"))),s=document.referrer&&/google|bing|yahoo|baidu|duckduckgo|wolframalpha/.test(document.referrer),_=this.config.bounceFilters.find((function(t){var n=(!t.source||"notification"===t.source)&&a||"seo"===t.source&&s||(!e.referrer||e.referrer===location.href)&&"direct"===t.source||"ignore"===t.source;if(n&&t.device&&(n="mobile"===t.device&&"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type||"tablet"===t.device&&"tablet"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type||"desktop"===t.device&&"mobile"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type&&"tablet"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type),n&&t.matchQuery){var i=new URLSearchParams(location.search.slice(1));Object.keys(t.matchQuery||{}).forEach((function(e){t.matchQuery[e]&&(n=n&&i.get(e)&&i.get(e).includes(t.matchQuery[e]))}))}return n}));_&&_.url&&this.initBounce(_.url,null)}sessionStorage.getItem("cleverpush-bounced")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb&&window.performance&&window.performance.navigation.type===window.performance.navigation.TYPE_BACK_FORWARD&&(sessionStorage.removeItem("cleverpush-bounced"),history.back())}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error(e)}}},{key:"initBounce",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initBounce",e,t);var i=!1;if(window.history&&window.history.pushState){var r=function(){setTimeout((function(){window.addEventListener("popstate",(function(){setTimeout((function(){if(sessionStorage.getItem("cleverpush-bounced")!==_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb&&((i=!location.hash||location.href.indexOf("cleverPushBounceUrl")>-1)&&location.href.endsWith("#")&&(i=!1),i)){sessionStorage.setItem("cleverpush-bounced",_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb);var r={channelId:n.config.channelId,notificationId:t,subscriptionId:n.subscriptionManager.storageManager.getSubscriptionId()};n.api.trackBounce(r),location.href=e}}),0)}),!1)}),250);var r=location.pathname+(location.search||"")+(location.hash||"");setTimeout((function(){history.pushState({cleverpushBounce:!0},document.title,location.pathname+(location.search||"")+(location.hash||"")),setTimeout((function(){history.replaceState(null,document.title,r)}),150)}),150),i=!0};"completed"===document.readyState||"complete"===document.readyState||"interactive"===document.readyState?r():window.addEventListener("load",r)}}},{key:"initNotificationId",value:function(){var e=localStorage.getItem("cleverpush-notification-id"),t=parseInt(localStorage.getItem("cleverpush-notification-last-interaction"),10)||0;e&&(!t||Date.now()-t<18e5)?(this.notificationId=e,localStorage.setItem("cleverpush-notification-last-interaction",Date.now())):(localStorage.removeItem("cleverpush-notification-last-interaction"),localStorage.removeItem("cleverpush-notification-id"))}},{key:"initFollowUpCampaigns",value:function(){var e=this;if(this.config.followUpCampaigns&&this.config.followUpCampaigns.length&&this.config.followUpCampaigns.forEach((function(t){(0,_utils_triggerJourneysAndFollowUps__WEBPACK_IMPORTED_MODULE_24__.G)(t,e.triggerFollowUpEvent,e.triggerJourneyEvent)})),this.config.shopifyCartAbandonmentFollowUpCampaignId){for(var t=document.querySelectorAll('button[name="add"], button.addtocart, a.add-to-cart'),n=0;n<t.length;n+=1){var i=t[n];i&&i.addEventListener("click",(function(){e.triggerFollowUpEvent(e.config.shopifyCartAbandonmentFollowUpCampaignId,"addToCart")}),!0)}(document.documentElement&&document.documentElement.className&&document.documentElement.className.indexOf("page--thank-you")>-1||window.location&&window.location.pathname&&window.location.pathname.indexOf("thank_you")>-1)&&this.triggerFollowUpEvent(this.config.shopifyCartAbandonmentFollowUpCampaignId,"checkout")}if(this.config.epagesCartAbandonmentFollowUpCampaignId){var r=document.querySelector("button.product-add-cart-button");r&&r.addEventListener("click",(function(){e.triggerFollowUpEvent(e.config.epagesCartAbandonmentFollowUpCampaignId,"addToCart")}),!0),(document.documentElement&&document.documentElement.className&&document.documentElement.className.indexOf("page--thank-you")>-1||window.location&&window.location.pathname&&window.location.pathname.indexOf("thank_you")>-1)&&this.triggerFollowUpEvent(this.config.epagesCartAbandonmentFollowUpCampaignId,"checkout")}}},{key:"processJourneyElement",value:(_processJourneyElement=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_28__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t,n){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,_utils_triggerJourneysAndFollowUps__WEBPACK_IMPORTED_MODULE_24__.G)(_objectSpread({_id:t},n),this.triggerFollowUpEvent,this.triggerJourneyEvent,!1),e.abrupt("return",new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(e){return setTimeout(e,100)})));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return _processJourneyElement.apply(this,arguments)})},{key:"trackConversion",value:function(e,t,n){this.trackEvent(e,{amount:t,currency:n})}},{key:"isSpecificBannerVisible",value:function(e){return this.config.webBanners.filter((function(t){return t.conversionEvents&&t.conversionEvents.includes(e)})).some((function(e){return e.isVisible}))}},{key:"trackEvent",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("trackEvent",e,t),this.waitForInit().then((function(){var i=(n.config.channelEvents||[]).find((function(t){return t._id===e||t.name===e}));if(i){if(n.subscriptionManager.getSubscriptionId().then((function(e){var r={subscriptionId:e,notificationId:new URLSearchParams(location.search.slice(1)).get("cleverPushNotificationId")||localStorage.getItem("cleverpush-notification-id"),eventId:i._id,properties:t};n.handleConversionTracking(r)})),n.isSpecificBannerVisible(e)){var r=n.config.webBanners.find((function(t){var n;return null==t||null===(n=t.conversionEvents)||void 0===n?void 0:n.includes(e)}));if(r){var o=(JSON.parse(sessionStorage.getItem("cleverpush-shown-web-banners"))||{})[r._id]||n.testId;n.api.trackWebBannerEvent(TRACK_EVENTS.CONVERSIONS,r._id,"",o)}}}else _utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn('Event with ID or Name "'.concat(e,'" not found'))}))}},{key:"handleConversionTracking",value:function(e){var t=this;e.notificationId?(this.handleLegacyConversion(_objectSpread({},e)),ADDITIONAL_CONVERSION_EXPIRATIONS_MINUTES.forEach((function(n){t.handleAdditionalConversionTrack(_objectSpread(_objectSpread({},e),{},{minutes:n}))}))):this.subscriptionManager.getClickedNotification().then((function(n){n?ADDITIONAL_CONVERSION_EXPIRATIONS_MINUTES.forEach((function(i){t.handleAdditionalConversionTrack(_objectSpread(_objectSpread({},e),{},{notificationId:n,minutes:i}))})):ADDITIONAL_CONVERSION_EXPIRATIONS_MINUTES.forEach((function(n){t.subscriptionManager.getClickedNotification(convertMinutesToMS(n)).then((function(i){t.handleAdditionalConversionTrack(_objectSpread(_objectSpread({},e),{},{notificationId:i,minutes:n}))}))})),t.handleLegacyConversion(_objectSpread(_objectSpread({},e),{},{notificationId:n}))}))}},{key:"isLastCheckExpired",value:function(e,t){return e&&!isNaN(e)&&parseInt(e,_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ)+t<Date.now()||this.config.trackConversionsWithoutFrequencyCapping}},{key:"generateWalletPass",value:function(e,t,n){var i=this;return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(r,o){i.api.generateWalletPass(e,t).then((function(e){"function"==typeof n&&n(null,e),r(e)})).catch((function(e){"function"==typeof n&&n(e,null),o(e)}))}))}},{key:"initGoogleAnalytics",value:function(e){var t;this.config.googleAnalyticsDimensionIndex&&"function"==typeof ga&&(ga("set","dimension".concat(this.config.googleAnalyticsDimensionIndex),e),"function"==typeof gtag&&gtag("event","cleverpushSetSubscriptionId",(t={event_category:"cleverpush",event_label:"Set CleverPush Subscription ID"},(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)(t,"dimension".concat(this.config.googleAnalyticsDimensionIndex),e),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)(t,"nonInteraction",!0),t)))}},{key:"validateUrlTriggerType",value:function(e){return Object.values(_const_common__WEBPACK_IMPORTED_MODULE_21__.Kw).includes(e)?e:null}}]),CleverPush}(wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_4___default())},155:function(e,t,n){"use strict";n.d(t,{ZJ:function(){return i},Tb:function(){return r},U4:function(){return o},xl:function(){return a},_i:function(){return s},NV:function(){return _},_j:function(){return c},Ue:function(){return u},x4:function(){return l},gd:function(){return f},DZ:function(){return h},k$:function(){return d},$t:function(){return p},Jj:function(){return g},jf:function(){return b},C5:function(){return E},Hc:function(){return m},To:function(){return v},Kw:function(){return P},qq:function(){return w},Pp:function(){return I},PM:function(){return O},WR:function(){return M},aw:function(){return D}});var i=10,r="true",o="0",a=0,s=10,_=/\s+/g,c=" ",u=",",l=864e5,f=36e5,h=6e4,d="en",p="cheverpush-speechbubble-unread-notifications",g="cp-has-unread-notifications",b="cleverpush-unread-notifications",E="cleverpush-deny-count",m="cleverpush-subscription-status",v="cleverpush-forced-opt-in-reset-at",P=Object.freeze({NOTIFICATIONS:"notifications",SETTINGS:"settings"}),w={DENIED:"denied",WAS_DENIED:"was-denied",UNSUBSCRIBED:"unsubscribed",PENDING:"pending",ALLOWED:"allowed"},I=30,O=500,M=2,D=["triggerFollowUpEvent","trackEvent","trackConversion","tagSubscription","untagSubscription","setAttribute","incAttribute","pushAttributeValue","pullAttributeValue","subscribe","triggerOptIn","unsubscribe"]},1317:function(e,t){"use strict";t.Z="@media (min-width: 768px) {\n        .cleverpush-confirm-branding {\n            bottom: 0 !important;\n            left: 0 !important;\n        }\n\n        .cleverpush-confirm-buttons {\n            max-width: calc(100% - 80px);\n            margin-left: auto !important;\n        }\n    }"},2034:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(5991),r=n(6610),o=n(6156),a=(0,i.Z)((function e(){(0,r.Z)(this,e)}));(0,o.Z)(a,"INITIALIZED","initialized"),(0,o.Z)(a,"INITIALIZATION_FAILED","initializationFailed"),(0,o.Z)(a,"SUBSCRIBED","subscribed"),(0,o.Z)(a,"UNSUBSCRIBED","unsubscribed"),(0,o.Z)(a,"OPTIN_SHOWN","optInShown"),(0,o.Z)(a,"OPTIN_CLOSED","optInClosed"),(0,o.Z)(a,"OPTIN_DENIED","optInDenied"),(0,o.Z)(a,"OPTIN_ALLOWED","optInAllowed"),(0,o.Z)(a,"PERMISSION_GRANTED","permissionGranted"),(0,o.Z)(a,"TOPICS_SET","topicsSet"),(0,o.Z)(a,"TOPICS_MANUALLY_SAVED","topicsManuallySaved"),(0,o.Z)(a,"TOPICS_LAYER_SHOWN","topicsLayerShown"),(0,o.Z)(a,"TOPICS_LAYER_DENIED","topicsLayerDenied"),(0,o.Z)(a,"TOPICS_LAYER_ALLOWED","topicsLayerAllowed"),(0,o.Z)(a,"TAGS_SET","tagsSet"),(0,o.Z)(a,"BELL_READY","bellReady"),(0,o.Z)(a,"BELL_CLICKED","bellClicked"),(0,o.Z)(a,"PERMISSION_RE_GRANTED","permissionReGranted"),(0,o.Z)(a,"PANEL_SHOWN","panelShown"),(0,o.Z)(a,"PANEL_HIDDEN","panelHidden"),(0,o.Z)(a,"CONFIRM_AVAILABLE","confirmAvailable"),(0,o.Z)(a,"BANNER_SHOWN","bannerShown"),(0,o.Z)(a,"BANNER_CLICKED","bannerClicked"),(0,o.Z)(a,"WIDGET_SHOWN","widgetShown"),(0,o.Z)(a,"CONFIG_AVAILABLE","configAvailable"),(0,o.Z)(a,"EVENT_TRACKED","eventTracked")},8397:function(e,t){"use strict";t.Z={en:{"confirm.title":"{0} wants to send you push notifications.","confirm.nativeTitle":"{0} wants to send you notifications","confirm.info":"Notifications can be turned off anytime from browser settings.","confirm.allow":"Allow","confirm.allowChrome":"Allow","confirm.allowFirefox":"Allow Notifications","confirm.deny":"Deny","confirm.selectTopics":"Which topics are you interested in?","confirm.doubleText":"Please click on {0} 2x to continue","confirm.alreadySubscribed":"You have already subscribed to all topics.","confirm.silentPromptInfo":'Please click on the small bell in the address bar at the top and then on "Allow" to continue.',"confirm.more":"More…","popup.info":"Click on {0} to confirm push notifications","popup.text":"Get updates and offers from {0} by subscribing to push notifications.","unsubscribe.title":"Unsubscribe from notifications","unsubscribe.confirm":"Are you sure?","unsubscribe.yes":"Yes","unsubscribe.no":"No","unsubscribe.feedback":"Please choose the unsubscribe reason to complete your unsubscription:","unsubscribe.enterReason":"Please enter the reason:","unsubscribe.submit":"Submit","unsubscribe.reasonQuantity":"Too many messages","unsubscribe.reasonContent":"Not interesting messages","unsubscribe.reasonOther":"Other reason","windowclose.confirm":"The process is not yet complete, are you sure you want to cancel it?","deny.alertHttps":"If you change your mind, click the lock to give your browser permission to send you notifications.","deny.alertHttp":"If you change your mind, click the info symbol to give your browser permission to send you notifications.","bell.subscribe":"Subscribe for notifications","bell.subscribed":"You're subscribed for notifications","bell.unsubscribeSuccess":"You won't receive notifications again","bell.hide":"Do not show again","panel.notifications":"Notifications","panel.editTopics":"Edit Topics","panel.settings":"Settings","panel.notificationsEmpty":"No notifications available.","panel.save":"Save","panel.close":"Close","panel.successfullySaved":"Successfully saved!","unblock.title":"You have blocked notifications.<br />Please follow these steps to receive notifications",privacy:"Privacy","chat.emailAddress":"Email address","chat.name":"Your name","chat.emailError":"Please enter a valid email address.","chat.start":"Start chat","chat.enable":"Enable chat now","chat.enterMessage":"Please enter message","chat.today":"Today","chat.yesterday":"Yesterday","chat.dayBefore":"Day before yesterday","chat.sunday":"Sunday","chat.monday":"Monday","chat.tuesday":"Tuesday","chat.wednesday":"Wednesday","chat.thursday":"Thursday","chat.friday":"Friday","chat.saturday":"Saturday","chat.the":"the","alert.unsupported":"Unfortunately, your browser does not support notifications.","voucherpool.title":"Your voucher code","voucherpool.text":"Click here to copy your code","voucher.code.copied":"Voucher code was copied to the clipboard!","story.overlay.text":"Open story","alert.checkboxRequired":"Please tick at least one box to continue","alert.unexpected":"An unexpected error has occurred. Please try again later.","alert.successEmailSend":"We send the email with this email. Please check your email","alert.enterTextAnswer":"Please enter answer","widget.topics":"Topics","widget.tags":"Tags","next.survey":"Next Survey","enterTextAnswer.survey":"Enter your Answer"},de:{"confirm.title":"{0} würde dir gerne Push Nachrichten senden.","confirm.nativeTitle":"{0} möchte Ihnen Benachrichtigungen senden","confirm.info":"Benachrichtigungen können jederzeit in den Browser Einstellungen deaktiviert werden.","confirm.allow":"Erlauben","confirm.allowChrome":"Zulassen","confirm.allowFirefox":"Benachrichtigungen erlauben","confirm.deny":"Verbieten","confirm.selectTopics":"Welche Themen interessieren Dich?","confirm.doubleText":"Bitte bestätige 2x mit {0} um fortzufahren","confirm.alreadySubscribed":"Du hast dich bereits für alle Themen angemeldet.","confirm.silentPromptInfo":'Bitte klicke auf die kleine Glocke oben in der Adresszeile und dann auf "Erlauben" um fortzufahren.',"confirm.more":"Mehr…","popup.info":"Klicke auf {0}, um unsere Push-Benachrichtigungen zu bestätigen","popup.text":"Erhalte Updates und Angebote von {0}, indem du Push-Benachrichtigungen abonnierst.","unsubscribe.title":"Von Benachrichtigungen abmelden","unsubscribe.confirm":"Bist du dir sicher?","unsubscribe.yes":"Ja","unsubscribe.no":"Nein","unsubscribe.feedback":"Bitte wähle den Abmelde-Grund aus um deine Abmeldung zu bestätigen:","unsubscribe.enterReason":"Bitte gib den Grund ein:","unsubscribe.submit":"Absenden","unsubscribe.reasonQuantity":"Zu viele Nachrichten","unsubscribe.reasonContent":"Uninteressante Nachrichten","unsubscribe.reasonOther":"Anderer Grund","windowclose.confirm":"Der Vorgang ist noch nicht abgeschlossen, bist du sicher, dass du ihn abbrechen möchtest?","deny.alertHttps":'Wenn du doch Benachrichtigungen empfangen möchtest, kannst du mit einem Klick auf das Schloss die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"deny.alertHttp":'Wenn du doch Benachrichtigungen empfangen möchtest, kannst du mit einem Klick auf das Info-Symbol die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"bell.subscribe":"Für Benachrichtigungen anmelden","bell.subscribed":"Du bist für Benachrichtigungen angemeldet","bell.unsubscribeSuccess":"Du wirst keine Benachrichtigungen mehr erhalten","bell.hide":"Nicht mehr anzeigen","panel.notifications":"Nachrichten","panel.editTopics":"Themenbereiche bearbeiten","panel.settings":"Einstellungen","panel.notificationsEmpty":"Keine Nachrichten vorhanden.","panel.save":"Speichern","panel.close":"Schlie&szlig;en","panel.successfullySaved":"Erfolgreich gespeichert!","unblock.title":"Du hast Benachrichtigungen blockiert.<br />Bitte folge diesen Schritten um Benachrichtigungen zu empfangen",privacy:"Datenschutz","chat.emailAddress":"E-Mail Adresse","chat.name":"Dein Name","chat.button":"Button","chat.emailError":"Bitte gib eine gültige E-Mail Adresse ein.","chat.start":"Chat starten","chat.enable":"Chat jetzt aktivieren","chat.enterMessage":"Bitte Nachricht eingeben","chat.today":"Heute","chat.yesterday":"Gestern","chat.dayBefore":"Vorgestern","chat.sunday":"Sonntag","chat.monday":"Montag","chat.tuesday":"Dienstag","chat.wednesday":"Mittwoch","chat.thursday":"Donnerstag","chat.friday":"Freitag","chat.saturday":"Samstag","chat.the":"den","alert.unsupported":"Dein Browser unterstützt leider keine Benachrichtigungen.","voucherpool.title":"Dein Gutscheincode","voucherpool.text":"Klicke hier um deinen Code zu kopieren","voucher.code.copied":"Gutscheincode wurde in die Zwischenablage kopiert!","story.overlay.text":"Story öffnen","alert.checkboxRequired":"Bitte wähle mindestens einen Themenbereich aus","alert.unexpected":"Ein unerwarteter Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.","alert.successEmailSend":"Du erhältst nun eine E-Mail mit einem Link, darüber kannst du deine Einstellungen anpassen.","alert.enterTextAnswer":"Bitte geben Sie eine Antwort ein","widget.topics":"Themenbereiche","widget.tags":"Tags","next.survey":"Nächste Umfrage","enterTextAnswer.survey":"Gib deine Antwort ein"},"de-formal":{"confirm.title":"{0} würde Ihnen gerne Push Nachrichten senden.","confirm.nativeTitle":"{0} möchte Ihnen Benachrichtigungen senden","confirm.info":"Benachrichtigungen können jederzeit in den Browser Einstellungen deaktiviert werden.","confirm.allow":"Erlauben","confirm.allowChrome":"Zulassen","confirm.allowFirefox":"Benachrichtigungen erlauben","confirm.deny":"Verbieten","confirm.selectTopics":"Welche Themen interessieren Sie?","confirm.doubleText":"Bitte bestätigen Sie 2x mit {0} um fortzufahren","confirm.alreadySubscribed":"Sie haben sich bereits für alle Themen angemeldet.","confirm.silentPromptInfo":'Bitte klicken Sie auf die kleine Glocke oben in der Adresszeile und dann auf "Erlauben" um fortzufahren.',"confirm.more":"Mehr…","popup.info":"Klicken Sie auf {0}, um unsere Push-Benachrichtigungen zu bestätigen","popup.text":"Erhalten Sie Updates und Angebote von {0}, indem Sie Push-Benachrichtigungen abonnieren.","unsubscribe.title":"Von Benachrichtigungen abmelden","unsubscribe.confirm":"Sind Sie sich sicher?","unsubscribe.yes":"Ja","unsubscribe.no":"Nein","unsubscribe.feedback":"Bitte wählen Sie den Abmelde-Grund aus um Ihre Abmeldung zu bestätigen:","unsubscribe.enterReason":"Bitte geben Sie den Grund ein:","unsubscribe.submit":"Absenden","unsubscribe.reasonQuantity":"Zu viele Nachrichten","unsubscribe.reasonContent":"Uninteressante Nachrichten","unsubscribe.reasonOther":"Anderer Grund","windowclose.confirm":"Der Vorgang ist noch nicht abgeschlossen, sind Sie sich sicher, dass Sie ihn abbrechen möchten?","deny.alertHttps":'Wenn Sie doch Benachrichtigungen empfangen möchten, können Sie mit einem Klick auf das Schloss die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"deny.alertHttp":'Wenn Sie doch Benachrichtigungen empfangen möchten, können Sie mit einem Klick auf das Info-Symbol die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"bell.subscribe":"Für Benachrichtigungen anmelden","bell.subscribed":"Sie sind für Benachrichtigungen angemeldet","bell.unsubscribeSuccess":"Sie werden keine Benachrichtigungen mehr erhalten","panel.notifications":"Benachrichtigungen","panel.editTopics":"Themenbereiche bearbeiten","panel.settings":"Einstellungen","panel.notificationsEmpty":"Keine Benachrichtigungen vorhanden.","panel.save":"Speichern","panel.close":"Schlie&szlig;en","panel.successfullySaved":"Erfolgreich gespeichert!","unblock.title":"Sie haben Benachrichtigungen blockiert.<br />Bitte folgen Sie diesen Schritten um Benachrichtigungen zu empfangen",privacy:"Datenschutz","chat.emailAddress":"E-Mail Adresse","chat.name":"Ihr Name","chat.button":"Button","chat.emailError":"Bitte geben Sie eine gültige E-Mail Adresse ein.","chat.start":"Chat starten","chat.enable":"Chat jetzt aktivieren","chat.enterMessage":"Bitte Nachricht eingeben","chat.today":"Heute","chat.yesterday":"Gestern","chat.dayBefore":"Vorgestern","chat.sunday":"Sonntag","chat.monday":"Montag","chat.tuesday":"Dienstag","chat.wednesday":"Mittwoch","chat.thursday":"Donnerstag","chat.friday":"Freitag","chat.saturday":"Samstag","chat.the":"den","alert.unsupported":"Ihr Browser unterstützt leider keine Benachrichtigungen.","voucherpool.title":"Dein Gutscheincode","voucherpool.text":"Klicken Sie hier um Ihren Code zu kopieren","voucher.code.copied":"Gutscheincode wurde in die Zwischenablage kopiert!","story.overlay.text":"Story öffnen","alert.checkboxRequired":"Bitte wählen Sie mindestens einen Themenbereich aus","alert.unexpected":"Ein unerwarteter Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.","alert.successEmailSend":"Sie erhalten nun eine E-Mail mit einem Link, darüber können Sie Ihre deine Einstellungen anpassen.","widget.topics":"Themenbereiche","widget.tags":"Tags","next.survey":"Nächste Umfrage"}}},4740:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(5991),r=n(6610),o=n(3349),a=n(379),s=n(6070),_=n(7608);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,_.Z)(e);if(t){var r=(0,_.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var u=function(e){(0,a.Z)(n,e);var t=c(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).name=a.constructor.name,a.reason=i,"function"==typeof Error.captureStackTrace?Error.captureStackTrace((0,o.Z)(a),a.constructor):a.stack=new Error(e).stack,a}return(0,i.Z)(n)}((0,n(3415).Z)(Error))},2136:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(5991),r=n(6610),o=n(6156),a=(0,i.Z)((function e(){(0,r.Z)(this,e)}));(0,o.Z)(a,"CONNECTED","connect"),(0,o.Z)(a,"REMOTE_NOTIFICATION_PERMISSION","cleverpush.remoteNotificationPermission"),(0,o.Z)(a,"REMOTE_OPERATION_COMPLETE","cleverpush.operationComplete"),(0,o.Z)(a,"REMOTE_RETRIGGER_EVENT","cleverpush.remoteRetriggerEvent"),(0,o.Z)(a,"MODAL_LOADED","cleverpush.modalPrompt.loaded"),(0,o.Z)(a,"MODAL_PROMPT_ACCEPTED","cleverpush.modalPrompt.accepted"),(0,o.Z)(a,"MODAL_PROMPT_REJECTED","cleverpush.modalPrompt.canceled"),(0,o.Z)(a,"POPUP_LOADED","cleverpush.popup.loaded"),(0,o.Z)(a,"POPUP_ACCEPTED","cleverpush.popup.accepted"),(0,o.Z)(a,"POPUP_REJECTED","cleverpush.popup.canceled"),(0,o.Z)(a,"POPUP_CLOSING","cleverpush.popup.closing"),(0,o.Z)(a,"REMOTE_NOTIFICATION_PERMISSION_CHANGED","cleverpush.remoteNotificationPermissionChanged"),(0,o.Z)(a,"IFRAME_POPUP_INITIALIZE","cleverpush.iframePopupInitialize"),(0,o.Z)(a,"UNSUBSCRIBE_FROM_PUSH","cleverpush.unsubscribeFromPush"),(0,o.Z)(a,"BEGIN_BROWSING_SESSION","cleverpush.beginBrowsingSession"),(0,o.Z)(a,"REQUEST_HOST_URL","cleverpush.requestHostUrl"),(0,o.Z)(a,"SHOW_HTTP_PERMISSION_REQUEST","cleverpush.showHttpPermissionRequest"),(0,o.Z)(a,"IS_SHOWING_HTTP_PERMISSION_REQUEST","cleverpush.isShowingHttpPermissionRequest"),(0,o.Z)(a,"WINDOW_TIMEOUT","cleverpush.windowTimeout"),(0,o.Z)(a,"FINISH_REMOTE_REGISTRATION","cleverpush.finishRemoteRegistration"),(0,o.Z)(a,"FINISH_REMOTE_REGISTRATION_IN_PROGRESS","cleverpush.finishRemoteRegistrationInProgress"),(0,o.Z)(a,"POPUP_BEGIN_MESSAGEPORT_COMMS","cleverpush.beginMessagePortComms"),(0,o.Z)(a,"SERVICEWORKER_COMMAND_REDIRECT","cleverpush.command.redirect"),(0,o.Z)(a,"HTTP_PERMISSION_REQUEST_RESUBSCRIBE","cleverpush.httpPermissionRequestResubscribe"),(0,o.Z)(a,"MARK_PROMPT_DISMISSED","cleverpush.markPromptDismissed")},1328:function(e,t,n){"use strict";function i(e){var t=!1,n=document.createElement("div");n.innerHTML="&nbsp;",n.className="adsbox",document.body.appendChild(n),window.setTimeout((function(){0===n.offsetHeight&&(t=!0),n.remove(),e(t)}),100)}n.d(t,{Z:function(){return i}})},1078:function(e,t,n){"use strict";n.d(t,{cM:function(){return a},To:function(){return _},tI:function(){return u}});var i=n(2043),r=n(7159),o=i.methodFactory,a=i.getLogger("cleverpush"),s=(0,r.dU)().toUpperCase();function _(e){return"code"===e?'\n    padding: 0 1px 1px 5px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    font-family: Monaco,"DejaVu Sans Mono","Courier New",monospace;\n    color: #444;\n    ':"bold"===e?"\n    font-weight: 600;\n    color: rgb(51, 51, 51);\n    ":"alert"===e?"\n    font-weight: 600;\n    color: red;\n    ":""}function c(e){return JSON.stringify(e,(function(e,t){return"function"==typeof t?"[Function]":t}),4)}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return a.debug("Called %c".concat(e,"(").concat(n.map(c).join(", "),")"),_("code"),".")}a.methodFactory=function(e,t,n){var i=o(e,t,n);return function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];0===t&&"string"==typeof arguments[t]&&(n="[CleverPush][".concat(s,"] ").concat(n)),e.push(n)}i.apply(this,e)}},a.setLevel(a.getLevel(),!1)},6716:function(e,t,n){"use strict";n.d(t,{F:function(){return a}});var i=n(5895),r=n(1078),o=n(7159),a=function(e){var t=e.subscriptionManager,n=e.config,a=e.subscribe,s=e.showBackdrop,_=e.setShowBackdrop,c=e.showSilentAlert;if("safari"===n.browserType){r.cM.debug("starting safariBlurChecker"),function e(n){"default"===t.getNotificationPermission()&&(document.hasFocus()?n<300?setTimeout((function(){e(n+1)}),100):r.cM.debug("safariBlurChecker waited 30 secs without success"):(r.cM.debug("safariBlurChecker success"),s()))}(0),a&&a()}else{var u=function(){(0,i.$k)().then((function(){var e=!0;if("PREVIEW"===n.env)s();else{var t,i=!1,_=function n(){i||(r.cM.debug("Blur checker fired"),t&&clearTimeout(t),window.removeEventListener("blur",n),i=!0,e&&s())};window.addEventListener("blur",_),t=setTimeout((function(){r.cM.debug("Blur checker cancelled"),window.removeEventListener("blur",_),!c||"mobile"===o.Uh.type||["Firefox","Mozilla"].includes(o.Xh.name)||"Edge"===o.Xh.name&&!n.showSilentPromptTutorial||c()}),2e3)}a&&a((function(){e=!1}))}))};"w3c"===n.browserType&&"storage"in navigator&&"estimate"in navigator.storage?navigator.storage.estimate().then((function(e){e.quota<=120*Math.pow(2,20)?(_&&_(!1),r.cM.debug("We are *probably* in incognito (used chrome 76 detection method). Will not show backdrop + layer."),a&&(0,i.$k)().then((function(){a()}))):u()})):u()}}},5895:function(e,t,n){"use strict";function i(){return new Promise((function(e){if("complete"===document.readyState)e();else{var t=function t(){e(),document.removeEventListener("DOMContentLoaded",t,!0),window.removeEventListener("load",t,!0)};document.addEventListener("DOMContentLoaded",t,!0),window.addEventListener("load",t,!0)}}))}function r(){return new Promise((function(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",(function(){"loading"!==document.readyState&&e()}))}))}function o(e){var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.appendChild(n.firstChild);return t}function a(e,t,n){e.style.opacity=0;var i=+new Date;!function r(){var o=+e.style.opacity+(new Date-i)/t;o>1&&(o=1),e.style.opacity=o,i=+new Date,+e.style.opacity<1?window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16):"function"==typeof n&&n()}()}function s(e,t,n){e.style.opacity=1;var i=+new Date;!function r(){var o=+e.style.opacity-(new Date-i)/t;o<0&&(o=0),e.style.opacity=o,i=+new Date,+e.style.opacity>0?window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16):"function"==typeof n&&n()}()}function _(e){for(var t=e.offsetTop,n=e.offsetLeft,i=e.offsetWidth,r=e.offsetHeight,o=e;o.offsetParent;)t+=(o=o.offsetParent).offsetTop,n+=o.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+r>window.pageYOffset&&n+i>window.pageXOffset}function c(e){var t=window.pageYOffset,n=e.getBoundingClientRect(),i=n.top+t,r=i+n.height,o=(window.pageYOffset-i)/(r-window.innerHeight-i)*100;return o<0?0:o>100?100:o}n.d(t,{$k:function(){return i},AE:function(){return r},dS:function(){return o},Ji:function(){return a},U6:function(){return s},v4:function(){return _},Y6:function(){return c}})},7159:function(e,t,n){"use strict";n.d(t,{Xh:function(){return f},os:function(){return h},Uh:function(){return d},x_:function(){return g},KK:function(){return b},T5:function(){return O},vU:function(){return M},un:function(){return D},qj:function(){return y},bX:function(){return T},ct:function(){return C},g_:function(){return A},dU:function(){return S},MD:function(){return B},jU:function(){return L},Dt:function(){return k},CO:function(){return R},io:function(){return U},cL:function(){return W},r0:function(){return K},J_:function(){return N},H$:function(){return Z},vp:function(){return F}});var i=n(484),r=n(2238),o=n.n(r),a=n(4740),s="serviceWorker",_="host",c="popup",u="iframe",l=new(o()),f=l.getBrowser(),h=l.getOS(),d=l.getDevice(),p=f.version?f.version.split("."):["0"],g=f.version?parseInt(p[0],10):0,b=p.length>1?parseInt(p[1],10):0,E=f.name,m="Chrome",v="Firefox",P="Edge",w="Chromium",I="Opera",O={GRANT:"grant",DENIED:"denied",SILENT:"silentPrompt"};function M(){return E===v}function D(){return E===P}function y(){return g>=84&&g<=88}function T(){return E===m||E===w||E===I||E===w}function C(){return g>=88}function A(){return E}function S(e){if("undefined"!=typeof window){var t=e;if(t||(t=(window.CleverPush||{}).config||{}),t&&"HOST"===t.env)return _;if(window===window.top){var n=t.cleverpushDomain;if("POPUP"===t.env||location.hostname.indexOf(".cleverpush.com")>-1){if(0===location.pathname.indexOf("/subscribe"))return c}else if(n&&location.hostname.indexOf(".".concat(n))>-1&&0===location.pathname.indexOf("/subscribe"))return c;return _}if(0===location.pathname.indexOf("/iframe")||0===location.pathname.indexOf("/referrals"))return u;try{if(location.origin===top.location.origin)return _}catch(e){}return"customSubdomain"}return"undefined"!=typeof WorkerLocation&&location instanceof WorkerLocation?s:null}function B(e){return S(e)===_}function L(){return"undefined"!=typeof window}function k(){return/Android/.test(navigator.userAgent)}function R(e){return S(e)===c&&L()}function U(){return location.hostname.indexOf(".cleverpush.com")>-1&&0===location.pathname.indexOf("/unsubscribe")&&L()}function W(e){return S(e)===u&&L()}function K(){var e=document.documentElement,t=document.body,n="scrollTop",i="scrollHeight";return(e[n]||t[n])/((e[i]||t[i])-e.clientHeight)*100}function N(){var e=document.documentElement,t=document.body,n="scrollTop";return e[n]||t[n]}var x=function(){return void 0!==window.Notification&&("serviceWorker"in navigator||"http:"===location.protocol)};function Z(){var e=!0,t=null;return new Promise((function(n,r){new Promise((function(e){var t=function(){return e(!0)},n=function(){return e(!1)};if(!window.webkitRequestFileSystem){if("MozAppearance"in document.documentElement.style){var i=indexedDB.open("test");return i.onerror=t,void(i.onsuccess=n)}if(/constructor/i.test(window.HTMLElement)||navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")<0&&navigator.userAgent.indexOf("FxiOS")<0){if(void 0!==window.openDatabase)try{window.openDatabase(null,null,null,null),window.localStorage.setItem("test",1)}catch(e){return t()}return function(){try{localStorage.length||(localStorage.x=1,localStorage.removeItem("x")),n()}catch(e){navigator.cookieEnabled?t():n()}}()}return window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?n():t()}window.webkitRequestFileSystem(0,0,n,t)})).then((function(o){o?(e=!1,t=null,r(new a.Z("Private browsing mode not supported.","private-mode"))):("safari"in window&&"object"===(0,i.Z)(window.safari)?(g>16||16===g&&b>=1)&&x()?t="w3c":"pushNotification"in window.safari?t="safari":(e=!1,t=null,r(new a.Z("Browser is not supported.","unsupported-browser"))):x()?t="w3c":(e=!1,t=null,r(new a.Z("Browser is not supported.","unsupported-browser"))),e&&"safari"!==t&&"ios"!==t&&("http:"===location.protocol||"showNotification"in ServiceWorkerRegistration.prototype?"PushManager"in window||(e=!1,r(new a.Z("Push messaging isn't supported.","unsupported-browser"))):(e=!1,r(new a.Z("Notifications aren't supported.","unsupported-browser"))),"serviceWorker"in navigator||"http:"===location.protocol||(e=!1,r(new a.Z("Service workers are not supported.","unsupported-browser"))),navigator.userAgent.indexOf("Iron")>-1&&navigator.userAgent.indexOf("Chrome")>-1&&(e=!1,r(new a.Z("SRWare Iron does not support push","unsupported-browser")))),e&&(window.self===window.top&&"w3c"===t&&navigator.serviceWorker&&"function"==typeof navigator.serviceWorker.getRegistrations?navigator.serviceWorker.getRegistrations().then((function(){return n(t)})).catch((function(){return r(new a.Z("Service workers are not supported","unsupported-browser"))})):n(t)))}))}))}function F(){return!!window.ReactNativeWebView}},8158:function(e,t,n){"use strict";n.d(t,{y:function(){return c}});var i=n(155),r="img",o="a",a="input",s="textarea",_="meta",c=function(e,t){var n=!(null!=t&&t.toLowerCase().includes("url"))&&e.className.includes("product-name"),c=e.tagName.toLowerCase();if(c===r&&(e.src||e.dataset&&e.dataset.src||e.dataset&&e.dataset.zoom)){var u,l=e.src||e.dataset&&e.dataset.src||e.dataset&&e.dataset.zoom;return null!==(u=l)&&void 0!==u&&u.startsWith("//")&&(l="https:".concat(l)),l}return c===o&&e.href&&!n?e.href:c!==a&&c!==s||!e.value?c===_&&e.content?e.content:(e.textContent||e.innerText).trim().replace(i.NV,i._j):e.value}},3723:function(e,t,n){"use strict";n.d(t,{UV:function(){return o},Lq:function(){return a}});var i="development",r="stage",o={DEVELOPMENT:"http://localhost:4000",PRODUCTION:"https://api.cleverpush.com",STAGE:"https://api-stage.cleverpush.com"};function a(){try{return"production"===i?window.apiEndpoint||o.DEVELOPMENT:"production"===r?window.apiEndpoint||o.STAGE:o.PRODUCTION}catch(e){return o.PRODUCTION}}},3234:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{G:function(){return triggerPathAndQuery},c:function(){return matchElementPathAndDomain}});var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7757),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(484),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2137),_debug__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1078),triggerPathAndQuery=function(e){try{var t=e.indexOf("?!")>-1?[e]:e.split("?"),n=new RegExp(t[0]).test(location.pathname);if(n&&t.length>1)if("undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var i=new URLSearchParams(t[1]),r=new URLSearchParams(location.search.slice(1));i.forEach((function(e,t){var i=r.get(t);(i!==e&&e&&"*"!==e||!i&&"*"===e)&&(n=!1)}))}else t[1].length>1&&(n=!1);else location.search&&location.search.length&&!e.includes("?")&&"$"===e[e.length-1]&&(n=!1);return n}catch(e){return!1}},matchElementPathAndDomain=function(){var _ref=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee(show,element,ignoreTrafficPercentage){var domain,value;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(show&&element.matchPath&&(show=triggerPathAndQuery(element.matchPath)),show&&element.notMatchPath&&(show=!new RegExp(element.notMatchPath).test(window.location.pathname)),show&&element.matchDomain&&(domain=element.matchDomain.replace("https://",""),show=new RegExp(domain).test(window.location.hostname||window.location.host)),show&&element.matchQuery&&Object.keys(element.matchQuery||{}).forEach((function(e){element.matchQuery[e]&&(show=show&&window.location.search&&window.location.search.indexOf("".concat(e,"=").concat(element.matchQuery[e]))>-1)})),!show||!element.matchFunction){_context.next=26;break}if(_context.prev=5,value=eval(element.matchFunction),"object"!==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3__.Z)(value)||!value.then){_context.next=19;break}return _context.prev=8,_context.next=11,value;case 11:show=!!_context.sent,_context.next=17;break;case 14:_context.prev=14,_context.t0=_context.catch(8),_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug(_context.t0);case 17:_context.next=20;break;case 19:show=!!value;case 20:_context.next=26;break;case 22:_context.prev=22,_context.t1=_context.catch(5),show=!1,_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug(_context.t1);case 26:return!ignoreTrafficPercentage&&show&&!isNaN(element.trafficPercentage)&&element.trafficPercentage>0&&element.trafficPercentage<100&&(show=element.trafficPercentage/100>Math.random()),_context.abrupt("return",show);case 28:case"end":return _context.stop()}}),_callee,null,[[5,22],[8,14]])})));return function(e,t,n){return _ref.apply(this,arguments)}}()},5632:function(e,t,n){"use strict";n.d(t,{tw:function(){return f},Cu:function(){return h},kb:function(){return d}});var i=n(7757),r=n.n(i),o=n(6156),a=n(484),s=n(2137);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=[],l=!0;(0,s.Z)(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof __tcfapi||"object"!==("undefined"==typeof UC_UI?"undefined":(0,a.Z)(UC_UI))){e.next=8;break}return t=function(){return new Promise((function(e){new Promise((function(e){window.UC_UI&&window.UC_UI.getTCFVendors?e(window.UC_UI.getTCFVendors()):__tcfapi("getVendorList",2,(function(t,n){if(n&&t.vendors){var i=Object.values(t.vendors);e(i)}else e(null)}))})).then((function(t){if(t){var n=t.find((function(e){return e.name&&(e.name.toLowerCase().indexOf("cxense")>-1||e.name.toLowerCase().indexOf("piano")>-1)}));n?__tcfapi("addEventListener",2,(function(t,i){__tcfapi("removeEventListener",2,(function(){}),t.listenerId),i&&t.vendor&&t.vendor.consents?e(c(c({},n),{},{consent:{status:t.vendor.consents[n.id]}})):e(null)})):e(null)}else e(null)}))}))},l=!1,e.next=5,t();case 5:(n=e.sent)&&(l=n.consent.status),__tcfapi("addEventListener",2,function(){var e=(0,s.Z)(r().mark((function e(i){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t();case 4:(n=e.sent)&&(o=n.consent.status)!==l&&(l=o,u.forEach((function(e){return"function"==typeof e&&e(l)})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})))();var f=function(e){return u.push(e)},h=function(){return new Promise((function(e){var t,n=!1,i=setTimeout((function(){n=!0,e({})}),1e4);(t=2e3,new Promise((function(e){if(l)return e(!0);Promise.race([new Promise((function(e){setTimeout(e,t)})),new Promise((function(e){f(e)}))]).then(e)}))).then((function(){if(l){var t=window.cX||{};t.callQueue=t.callQueue||[],t.callQueue.push(["getUserSegmentIds",{persistedQueryId:self.CleverPush.config.pianoPublicPersistedId,callback:function(t){n||(clearTimeout(i),n=!0,e({segments:t}))}}])}else{if(n)return;clearTimeout(i),n=!0,e({segments:[],userId:"optout"})}}))}))},d=function(){var e=(0,s.Z)(r().mark((function e(){var t,n,i,o,a,s,_;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return t=e.sent,n=t.segments,i=JSON.stringify(n),o=(new TextEncoder).encode(i),e.next=8,crypto.subtle.digest("SHA-256",o);case 8:return a=e.sent,s=Array.from(new Uint8Array(a)),_=s.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",_);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},5401:function(){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=t[r];if(e.call(i,o,r,t))return o;r++}},configurable:!0,writable:!0})},192:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var i=n(6156);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(e){var t,n,i;if(!e.testsEnabled||null===(t=e.tests)||void 0===t||!t.length)return e;var r=Math.floor(Math.random()*(null===(n=e.tests)||void 0===n?void 0:n.length));return o(o(o({},e),e.tests[r]),{},{testId:null===(i=e.tests[r])||void 0===i?void 0:i.id,id:e.id||e._id})}},1624:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(4740);function r(e){return new Promise((function(t){return e.json().then((function(n){return t({status:e.status,ok:e.ok,json:n})})).catch((function(){return t({status:e.status,ok:e.ok,json:null})}))}))}function o(e,t){return new Promise((function(n,o){(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return Promise.race([fetch(e,t),new Promise((function(e,t){return setTimeout((function(){return t(new Error("request timeout"))}),n)}))])})(e,t,t.timeout||1e4).then(r).then((function(e){return e.ok?n(e.json):o(new i.Z(e.json?e.json.error:"HTTP Error",e.status))})).catch((function(e){return o(e)}))}))}},9800:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{e:function(){return checkTags}});var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(484),_debug__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1078),autoAssignTagMatches=function autoAssignTagMatches(tag,pathname,callback){if(tag.autoAssignPath){var path=tag.autoAssignPath;if("[EMPTY]"===path&&(path=""),!new RegExp(path).test(pathname))return;if(!tag.autoAssignFunction&&!tag.autoAssignSelector)return callback(!0)}if(tag.autoAssignFunction)try{if(tag.autoAssignCheckInterval&&!isNaN(tag.autoAssignCheckInterval)){var interval=setInterval((function(){try{var _matches=eval(tag.autoAssignFunction);if("object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__.Z)(_matches)&&_matches.then)try{_matches.then((function(){clearInterval(interval),callback(!0)}))}catch(e){}else _matches&&(clearInterval(interval),callback(!0))}catch(e){_debug__WEBPACK_IMPORTED_MODULE_0__.cM.debug(e)}}),tag.autoAssignCheckInterval);return null}var matches=eval(tag.autoAssignFunction);if("object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__.Z)(matches)&&matches.then){try{matches.then((function(){callback(!0)}))}catch(e){}return}return callback(!!matches)}catch(e){_debug__WEBPACK_IMPORTED_MODULE_0__.cM.debug(e)}if(tag.autoAssignSelector)try{for(var triggerElems=document.querySelectorAll(tag.autoAssignSelector),triggerElemIndex=0;triggerElemIndex<triggerElems.length;triggerElemIndex+=1){var triggerElem=triggerElems[triggerElemIndex];triggerElem&&triggerElem.addEventListener("click",(function(){callback(!0)}))}return null}catch(e){_debug__WEBPACK_IMPORTED_MODULE_0__.cM.debug(e)}return callback(!1)},checkTags=function(e,t,n,i,r){(0,_debug__WEBPACK_IMPORTED_MODULE_0__.tI)("checkTags"),e&&e.length&&"undefined"!=typeof localStorage&&e.forEach((function(e){try{autoAssignTagMatches(e,r,(function(t){if(t){var r,o=isNaN(e.autoAssignVisits)?0:e.autoAssignVisits,a="cleverpush-tag-autoAssignVisits-".concat(e._id),s=e.autoAssignSessionVisits?sessionStorage:localStorage,_=(new Date).toISOString().substr(0,10);e.autoAssignDays&&(r=new Date).setDate(r.getDate()-e.autoAssignDays);var c=s.getItem(a),u=0,l={};if(e.autoAssignDays)try{l=JSON.parse(c)||{},"object"!==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__.Z)(l)&&(l={}),Object.keys(l||{}).forEach((function(e){new Date(e)>=r?u+=l[e]||0:delete l[e]}))}catch(e){l={}}else"string"!=typeof c||isNaN(c)||(u=parseInt(c,10));var f=isNaN(e.autoAssignSessions)?0:e.autoAssignSessions,h="cleverpush-tag-autoAssignSessions-".concat(e._id),d="cleverpush-tag-autoAssignSessionsCounted-".concat(e._id),p=localStorage.getItem(h),g=0,b={};if(e.autoAssignDays)try{b=JSON.parse(p)||{},"object"!==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__.Z)(b)&&(b={}),Object.keys(b||{}).forEach((function(e){new Date(e)>=r?g+=b[e]||0:delete b[e]}))}catch(e){b={}}else"string"!=typeof p||isNaN(p)||(g=parseInt(p,10));g>=f?u>=o?!isNaN(e.autoAssignSeconds)&&e.autoAssignSeconds?setTimeout((function(){n(e._id)}),1e3*e.autoAssignSeconds):n(e._id):e.autoAssignDays?(l[_]||(l[_]=0),l[_]+=1,i().then((function(){localStorage.setItem(a,JSON.stringify(l))}))):(u+=1,i().then((function(){s.setItem(a,u.toString())}))):e.autoAssignDays?(l[_]||(l[_]=0),l[_]+=1,i().then((function(){localStorage.setItem(a,JSON.stringify(l))})),"true"!==sessionStorage.getItem(d)&&(b[_]||(b[_]=0),b[_]+=1,i().then((function(){sessionStorage.setItem(d,"true"),localStorage.setItem(h,JSON.stringify(b))})))):(u+=1,i().then((function(){s.setItem(a,u.toString())})),"true"!==sessionStorage.getItem(d)&&(g+=1,i().then((function(){sessionStorage.setItem(d,"true"),localStorage.setItem(h,g.toString())}))))}}))}catch(e){_debug__WEBPACK_IMPORTED_MODULE_0__.cM.debug("checkTags",null==e?void 0:e.message)}}))}},3114:function(e,t,n){"use strict";n.d(t,{ej:function(){return s},RG:function(){return _},Iu:function(){return c}});var i=n(2238),r=n.n(i),o=n(8397),a="en",s=function(e){return null!=e&&e.enableTranslationLanguageFromHTML&&document.documentElement.lang?document.documentElement.lang.substring(0,2):(null==e?void 0:e.locale)||(navigator.language||navigator.userLanguage||"").substr(0,2)||a};function _(e){if(!e)return e;var t=e,n=(document.characterSet||"").toLowerCase();if(n.indexOf("windows-1252")>-1||n.indexOf("iso-8859")>-1)try{var i=escape(e);i=(i=i.replace(new RegExp("%E2%u20AC%u017E","g"),"%E2%80%9E")).replace(new RegExp("%E2%u20AC%u0153","g"),"%E2%80%9C"),t=decodeURIComponent(i)}catch(n){t=new TextDecoder("utf-8").decode(Uint8Array.from(e,(function(e){return e.charCodeAt(0)})))}return t}function c(e,t){var n=s((window.CleverPush||{config:{}}).config);n="de-formal"!==n?n.substr(0,2).toLowerCase():n,o.Z.hasOwnProperty(n)||(n=a);var i,c=e;if("confirm.allowBrowser"===c){c="confirm.allow";var u=new(r());"Chrome"===u.getBrowser().name||"Edge"===u.getBrowser().name?c="confirm.allowChrome":"Firefox"===u.getBrowser().name&&(c="confirm.allowFirefox")}else"deny.alert"===c&&(c="https:"===location.protocol?"deny.alertHttps":"deny.alertHttp");return o.Z[n].hasOwnProperty(c)?i=o.Z[n][c]:o.Z.en.hasOwnProperty(c)&&(i=o.Z.en[c]),i?t?i:_(i):c}String.prototype.formatCleverPush=function(){var e=this;for(var t in arguments)arguments.hasOwnProperty(t)&&"function"==typeof e.replace&&(e=e.replace("{".concat(t,"}"),arguments[t]));return e}},1759:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{G:function(){return prepareJourneyOrFollowUpTriggers}});var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(484),_const_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(155),_debug__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1078),_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5895),_followUp__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8158),_matchElementPathAndDomain__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3234),prepareJourneyOrFollowUpTriggers=function prepareJourneyOrFollowUpTriggers(doc,triggerFollowUpEvent,triggerJourneyEvent){var isFollowUpCampaign=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],triggered=!1,trigger=function trigger(triggerElement,extraVariables){triggered=!0;var variables={};doc.triggerAutoVariables&&doc.triggerAutoVariables.length&&doc.triggerAutoVariables.forEach((function(variable){var variableName=variable.variable;if("scrollPercentage"!==variableName){if("js"===variable.selectorType)try{return void(variables[variableName]=eval(variable.selector))}catch(e){}if(variable.selector&&0===variable.selector.indexOf("javascript:")){var javascriptCode=variable.selector.substr("javascript:".length);try{return void(variables[variableName]=eval(javascriptCode))}catch(e){}}var element;variable.selector.split(_const_common__WEBPACK_IMPORTED_MODULE_0__.Ue).forEach((function(e){if(!element){var t=triggerElement;try{for(var n=0;n<_const_common__WEBPACK_IMPORTED_MODULE_0__._i&&!(element=t.querySelector(e.trim()))&&(t=t.parentNode);n+=1);element||(element=document.querySelector(e.trim()))}catch(e){_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug("followUp variable error",null==e?void 0:e.message)}}})),element&&(variables[variableName]=(0,_followUp__WEBPACK_IMPORTED_MODULE_3__.y)(element,variableName))}else variables[variableName]=window.pageYOffset})),"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_5__.Z)(extraVariables)&&(variables=Object.assign(variables,extraVariables));var triggerEventName="trigger".concat(doc.triggerType[0].substr(0,1).toUpperCase()+doc.triggerType.substr(1));isFollowUpCampaign?triggerFollowUpEvent(doc._id,triggerEventName,variables):triggerJourneyEvent(doc._id,triggerEventName,variables,doc.type)};if("articleBounce"===doc.triggerType&&0!==window.location.hash.indexOf("#cleverPushScroll")){var setupBounce=function(){window.addEventListener("unload",(function(){var e=document.querySelector(doc.triggerArticleSelector||"article");if(e){var t=(0,_dom__WEBPACK_IMPORTED_MODULE_2__.Y6)(e);t>=(doc.triggerArticleMinScroll||0)&&t<=(doc.triggerArticleMaxScroll||80)&&trigger(document)}}))};if(doc.triggerFunction){var success=!1;try{success=!!eval(doc.triggerFunction)}catch(e){_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug(e)}success&&setupBounce()}else setupBounce()}if("selector"===doc.triggerType&&doc.triggerSelector){var setupSelector=function(){for(var e=document.querySelectorAll(doc.triggerSelector),t=function(t){var n=e[t];n&&n.addEventListener("click",(function(){trigger(n.parentNode)}),!0)},n=0;n<e.length;n+=1)t(n)};if(doc.triggerFunction){var _success=!1;try{_success=!!eval(doc.triggerFunction)}catch(e){_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug(e)}_success&&setupSelector()}else setupSelector()}if("function"===doc.triggerType&&doc.triggerFunction){var _result,result;try{result=eval(doc.triggerFunction)}catch(e){_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug(e)}if("object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_5__.Z)(result)&&null!==(_result=result)&&void 0!==_result&&_result.then)try{result.then((function(e){trigger(document,e)})).catch((function(e){_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug(e)}))}catch(e){_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug(e)}else result&&trigger(document)}else"path"===doc.triggerType&&doc.triggerPath&&(0,_matchElementPathAndDomain__WEBPACK_IMPORTED_MODULE_4__.G)(doc.triggerPath)&&trigger(document);if("exitIntent"===doc.triggerType&&__webpack_require__.e(499).then(__webpack_require__.t.bind(__webpack_require__,5499,23)).then((function(_ref){var ouibounce=_ref.default;ouibounce(null,{aggressive:!0,callback:function callback(){if(doc.triggerFunction){var _result2;try{_result2=eval(doc.triggerFunction)}catch(e){_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug(e)}if(!_result2)return}doc.triggerPath&&!(0,_matchElementPathAndDomain__WEBPACK_IMPORTED_MODULE_4__.G)(doc.triggerPath)||trigger(document)}})})),["productAvailability","productPriceReduction"].includes(doc.triggerType)&&doc.triggerFunction){var _productId,productId;try{productId=eval(doc.triggerFunction)}catch(e){_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug(e)}if("object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_5__.Z)(productId)&&null!==(_productId=productId)&&void 0!==_productId&&_productId.then)try{productId.then((function(e){e&&"object"!==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_5__.Z)(e)&&trigger(document,{id:e})})).catch((function(e){_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug(e)}))}catch(e){_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug(e)}else productId&&trigger(document,{id:productId})}if(("selector"===doc.cancelType||"function"===doc.cancelType)&&doc.cancelSelector)for(var triggerElements=document.querySelectorAll(doc.cancelSelector),triggerElementIndex=0;triggerElementIndex<triggerElements.length;triggerElementIndex+=1){var triggerElement=triggerElements[triggerElementIndex];triggerElement&&triggerElement.addEventListener("click",(function(){isFollowUpCampaign?triggerFollowUpEvent(doc._id,"function"===doc.cancelType?"cancelFunction":"cancelSelector",doc.type):triggerJourneyEvent(doc._id,"function"===doc.cancelType?"cancelFunction":"cancelSelector",doc.type)}),!0)}if(!triggered&&"function"===doc.cancelType&&doc.cancelFunction){var _result4,_result3;try{_result3=eval(doc.cancelFunction)}catch(e){_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug(e)}if("object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_5__.Z)(_result3)&&null!==(_result4=_result3)&&void 0!==_result4&&_result4.then)try{_result3.then((function(){isFollowUpCampaign?triggerFollowUpEvent(doc._id,"cancelFunction"):triggerJourneyEvent(doc._id,"cancelFunction",doc.type)}))}catch(e){_debug__WEBPACK_IMPORTED_MODULE_1__.cM.debug(e)}else _result3&&(isFollowUpCampaign?triggerFollowUpEvent(doc._id,"cancelFunction"):triggerJourneyEvent(doc._id,"cancelFunction",doc.type))}else!triggered&&"path"===doc.cancelType&&doc.cancelPath&&(0,_matchElementPathAndDomain__WEBPACK_IMPORTED_MODULE_4__.G)(doc.cancelPath)&&(isFollowUpCampaign?triggerFollowUpEvent(doc._id,"cancelPath"):triggerJourneyEvent(doc._id,"cancelPath",doc.type))}},2043:function(e,t,n){var i,r;!function(o,a){"use strict";i=function(){var e=function(){},t="undefined",n=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function r(n){return"debug"===n&&(n="log"),typeof console!==t&&(void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):e)}function o(t,i){for(var r=0;r<n.length;r++){var o=n[r];this[o]=r<t?e:this.methodFactory(o,t,i)}this.log=this.debug}function a(e,n,i){return function(){typeof console!==t&&(o.call(this,n,i),this[e].apply(this,arguments))}}function s(e,t,n){return r(e)||a.apply(this,arguments)}function _(e,i,r){var a,_=this,c="loglevel";function u(e){var i=(n[e]||"silent").toUpperCase();if(typeof window!==t){try{return void(window.localStorage[c]=i)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+i+";"}catch(e){}}}function l(){var e;if(typeof window!==t){try{e=window.localStorage[c]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,i=n.indexOf(encodeURIComponent(c)+"=");-1!==i&&(e=/^([^;]+)/.exec(n.slice(i))[1])}catch(e){}return void 0===_.levels[e]&&(e=void 0),e}}e&&(c+=":"+e),_.name=e,_.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},_.methodFactory=r||s,_.getLevel=function(){return a},_.setLevel=function(n,i){if("string"==typeof n&&void 0!==_.levels[n.toUpperCase()]&&(n=_.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=_.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==i&&u(n),o.call(_,n,e),typeof console===t&&n<_.levels.SILENT)return"No console available for logging"},_.setDefaultLevel=function(e){l()||_.setLevel(e,!1)},_.enableAll=function(e){_.setLevel(_.levels.TRACE,e)},_.disableAll=function(e){_.setLevel(_.levels.SILENT,e)};var f=l();null==f&&(f=null==i?"WARN":i),_.setLevel(f,!1)}var c=new _,u={};c.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=u[e];return t||(t=u[e]=new _(e,c.getLevel(),c.methodFactory)),t};var l=typeof window!==t?window.log:void 0;return c.noConflict=function(){return typeof window!==t&&window.log===c&&(window.log=l),c},c.getLoggers=function(){return u},c},void 0===(r="function"==typeof i?i.call(t,n,t,e):i)||(e.exports=r)}()},1474:function(e,t){"use strict";t.Z=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}},3705:function(e,t,n){"use strict";var i=n(1474),r=setTimeout;function o(e){return Boolean(e&&void 0!==e.length)}function a(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function _(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void u(t.promise,e)}c(t.promise,i)}else(1===e._state?c:u)(t.promise,e._value)}))):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof s)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void h((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){u(e,t)}var i,r}function u(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&s._immediateFn((function(){e._handled||s._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)_(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e((function(e){n||(n=!0,c(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(e){if(n)return;n=!0,u(t,e)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=new this.constructor(a);return _(this,new f(e,t,n)),n},s.prototype.finally=i.Z,s.all=function(e){return new s((function(t,n){if(!o(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function a(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(t){a(e,t)}),n)}i[e]=o,0==--r&&t(i)}catch(e){n(e)}}for(var s=0;s<i.length;s++)a(s,i[s])}))},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,n){n(e)}))},s.race=function(e){return new s((function(t,n){if(!o(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=e.length;i<r;i++)s.resolve(e[i]).then(t,n)}))},s._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){r(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.Z=s},5666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function _(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{_({},"")}catch(e){_=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof g?t:g,o=Object.create(r.prototype),a=new T(i||[]);return o._invoke=function(e,t,n){var i=l;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===d){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=M(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===l)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var _=u(e,t,n);if("normal"===_.type){if(i=n.done?d:f,_.arg===p)continue;return{value:_.arg,done:n.done}}"throw"===_.type&&(i=d,n.method="throw",n.arg=_.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",f="suspendedYield",h="executing",d="completed",p={};function g(){}function b(){}function E(){}var m={};_(m,o,(function(){return this}));var v=Object.getPrototypeOf,P=v&&v(v(C([])));P&&P!==n&&i.call(P,o)&&(m=P);var w=E.prototype=g.prototype=Object.create(m);function I(e){["next","throw","return"].forEach((function(t){_(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(r,o,a,s){var _=u(e[r],e,o);if("throw"!==_.type){var c=_.arg,l=c.value;return l&&"object"==typeof l&&i.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(_.arg)}var r;this._invoke=function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}}function M(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function y(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function C(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:A}}function A(){return{value:t,done:!0}}return b.prototype=E,_(w,"constructor",E),_(E,"constructor",b),b.displayName=_(E,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,_(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},I(O.prototype),_(O.prototype,a,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new O(c(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},I(w),_(w,s,"Generator"),_(w,o,(function(){return this})),_(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(y),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var _=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(_&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(_){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),y(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;y(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:C(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},2238:function(e,t,n){var i;!function(r,o){"use strict";var a="function",s="undefined",_="object",c="string",u="major",l="model",f="name",h="type",d="vendor",p="version",g="architecture",b="console",E="mobile",m="tablet",v="smarttv",P="wearable",w="embedded",I="Amazon",O="Apple",M="ASUS",D="BlackBerry",y="Firefox",T="Google",C="Huawei",A="LG",S="Microsoft",B="Motorola",L="Opera",k="Samsung",R="Sharp",U="Sony",W="Xiaomi",K="Zebra",N="Facebook",x="Chromium OS",Z="Mac OS",F=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},q=function(e,t){return typeof e===c&&-1!==j(t).indexOf(j(e))},j=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,350)},z=function(e,t){for(var n,i,r,s,c,u,l=0;l<t.length&&!c;){var f=t[l],h=t[l+1];for(n=i=0;n<f.length&&!c&&f[n];)if(c=f[n++].exec(e))for(r=0;r<h.length;r++)u=c[++i],typeof(s=h[r])===_&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):o:this[s[0]]=u?s[1].call(this,u,s[2]):o:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):o):this[s]=u||o;l+=2}},H=function(e,t){for(var n in t)if(typeof t[n]===_&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(q(t[n][i],e))return"?"===n?o:n}else if(q(t[n],e))return"?"===n?o:n;return e},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,p],[/opios[\/ ]+([\w\.]+)/i],[p,[f,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[f,L]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[f,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[f,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[f,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[f,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[f,y]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,N],p],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[f,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[f,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[p,H,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[f,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,p],[/(cobalt)\/([\w\.]+)/i],[f,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,j]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",j]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,j]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[d,k],[h,m]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[d,k],[h,E]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[l,[d,O],[h,E]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[d,O],[h,m]],[/(macintosh);/i],[l,[d,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[d,R],[h,E]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[d,C],[h,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[d,C],[h,E]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[d,W],[h,E]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[d,W],[h,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[d,"OPPO"],[h,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[d,"Vivo"],[h,E]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[d,"Realme"],[h,E]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[d,B],[h,E]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[d,B],[h,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[d,A],[h,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[d,A],[h,E]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[d,"Lenovo"],[h,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[d,"Nokia"],[h,E]],[/(pixel c)\b/i],[l,[d,T],[h,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[d,T],[h,E]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[d,U],[h,E]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[d,U],[h,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[d,"OnePlus"],[h,E]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[d,I],[h,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[d,I],[h,E]],[/(playbook);[-\w\),; ]+(rim)/i],[l,d,[h,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[d,D],[h,E]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[d,M],[h,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[d,M],[h,E]],[/(nexus 9)/i],[l,[d,"HTC"],[h,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[l,/_/g," "],[h,E]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[d,"Acer"],[h,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[d,"Meizu"],[h,E]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,l,[h,E]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,l,[h,m]],[/(surface duo)/i],[l,[d,S],[h,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[d,"Fairphone"],[h,E]],[/(u304aa)/i],[l,[d,"AT&T"],[h,E]],[/\bsie-(\w*)/i],[l,[d,"Siemens"],[h,E]],[/\b(rct\w+) b/i],[l,[d,"RCA"],[h,m]],[/\b(venue[\d ]{2,7}) b/i],[l,[d,"Dell"],[h,m]],[/\b(q(?:mv|ta)\w+) b/i],[l,[d,"Verizon"],[h,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[d,"Barnes & Noble"],[h,m]],[/\b(tm\d{3}\w+) b/i],[l,[d,"NuVision"],[h,m]],[/\b(k88) b/i],[l,[d,"ZTE"],[h,m]],[/\b(nx\d{3}j) b/i],[l,[d,"ZTE"],[h,E]],[/\b(gen\d{3}) b.+49h/i],[l,[d,"Swiss"],[h,E]],[/\b(zur\d{3}) b/i],[l,[d,"Swiss"],[h,m]],[/\b((zeki)?tb.*\b) b/i],[l,[d,"Zeki"],[h,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],l,[h,m]],[/\b(ns-?\w{0,9}) b/i],[l,[d,"Insignia"],[h,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[d,"NextBook"],[h,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],l,[h,E]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],l,[h,E]],[/\b(ph-1) /i],[l,[d,"Essential"],[h,E]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[d,"Envizen"],[h,m]],[/\b(trio[-\w\. ]+) b/i],[l,[d,"MachSpeed"],[h,m]],[/\btu_(1491) b/i],[l,[d,"Rotor"],[h,m]],[/(shield[\w ]+) b/i],[l,[d,"Nvidia"],[h,m]],[/(sprint) (\w+)/i],[d,l,[h,E]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[d,S],[h,E]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[d,K],[h,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[d,K],[h,E]],[/smart-tv.+(samsung)/i],[d,[h,v]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[d,k],[h,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,A],[h,v]],[/(apple) ?tv/i],[d,[l,"Apple TV"],[h,v]],[/crkey/i],[[l,"Chromecast"],[d,T],[h,v]],[/droid.+aft(\w+)( bui|\))/i],[l,[d,I],[h,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[d,R],[h,v]],[/(bravia[\w ]+)( bui|\))/i],[l,[d,U],[h,v]],[/(mitv-\w{5}) bui/i],[l,[d,W],[h,v]],[/Hbbtv.*(technisat) (.*);/i],[d,l,[h,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[d,V],[l,V],[h,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,l,[h,b]],[/droid.+; (shield) bui/i],[l,[d,"Nvidia"],[h,b]],[/(playstation [345portablevi]+)/i],[l,[d,U],[h,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[d,S],[h,b]],[/((pebble))app/i],[d,l,[h,P]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[d,O],[h,P]],[/droid.+; (glass) \d/i],[l,[d,T],[h,P]],[/droid.+; (wt63?0{2,3})\)/i],[l,[d,K],[h,P]],[/(quest( 2| pro)?)/i],[l,[d,N],[h,P]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[h,w]],[/(aeobc)\b/i],[l,[d,I],[h,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[h,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[h,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,E]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[p,H,J]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[p,H,J]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,Z],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,p],[/\(bb(10);/i],[p,[f,D]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[f,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[f,"Chromecast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,x],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,p],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,p]]},Y=function(e,t){if(typeof e===_&&(t=e,e=o),!(this instanceof Y))return new Y(e,t).getResult();var n=typeof r!==s&&r.navigator?r.navigator:o,i=e||(n&&n.userAgent?n.userAgent:""),u=n&&n.userAgentData?n.userAgentData:o,l=t?function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n}(G,t):G,f=n&&n.userAgent==i;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,z.call(t,i,l.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,f&&n&&n.brave&&typeof n.brave.isBrave==a&&(t.name="Brave"),t},this.getCPU=function(){var e={};return e.architecture=o,z.call(e,i,l.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,z.call(e,i,l.device),f&&!e.type&&u&&u.mobile&&(e.type=E),f&&"Macintosh"==e.model&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e.model="iPad",e.type=m),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,z.call(e,i,l.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,z.call(e,i,l.os),f&&!e.name&&u&&"Unknown"!=u.platform&&(e.name=u.platform.replace(/chrome os/i,x).replace(/macos/i,Z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===c&&e.length>350?V(e,350):e,this},this.setUA(i),this};Y.VERSION="1.0.36",Y.BROWSER=F([f,p,u]),Y.CPU=F([g]),Y.DEVICE=F([l,d,h,b,E,v,m,P,w]),Y.ENGINE=Y.OS=F([f,p]),typeof t!==s?(e.exports&&(t=e.exports=Y),t.UAParser=Y):n.amdO?(i=function(){return Y}.call(t,n,t,e))===o||(e.exports=i):typeof r!==s&&(r.UAParser=Y);var $=typeof r!==s&&(r.jQuery||r.Zepto);if($&&!$.ua){var X=new Y;$.ua=X.getResult(),$.ua.get=function(){return X.getUA()},$.ua.set=function(e){X.setUA(e);var t=X.getResult();for(var n in t)$.ua[n]=t[n]}}}("object"==typeof window?window:this)},4795:function(e,t,n){var i;!function(t){"use strict";function r(){}var o=r.prototype,a=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function _(e){return function(){return this[e].apply(this,arguments)}}function c(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&c(e.listener)}o.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp)for(n in t={},i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n]);else t=i[e]||(i[e]=[]);return t},o.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},o.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},o.addListener=function(e,t){if(!c(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),r="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===s(i[n],t)&&i[n].push(r?t:{listener:t,once:!1});return this},o.on=_("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=_("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,t){var n,i,r=this.getListenersAsObject(e);for(i in r)r.hasOwnProperty(i)&&-1!==(n=s(r[i],t))&&r[i].splice(n,1);return this},o.off=_("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):a.call(this,i,r));return this},o.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},o.removeAllListeners=_("removeEvent"),o.emitEvent=function(e,t){var n,i,r,o,a=this.getListenersAsObject(e);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),r=0;r<n.length;r++)!0===(i=n[r]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},o.trigger=_("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},r.noConflict=function(){return t.EventEmitter=a,r},void 0===(i=function(){return r}.call(t,n,t,e))||(e.exports=i)}(this||{})},3564:function(e,t,n){var i={"./facebookManager":[6866,5,866],"./facebookManager.js":[6866,5,866],"./httpHostManager":[335,5,251,335],"./httpHostManager.js":[335,5,251,335],"./httpIframeManager":[2818,5,251,818],"./httpIframeManager.js":[2818,5,251,818],"./httpPopupManager":[8240,5,251,240],"./httpPopupManager.js":[8240,5,251,240],"./httpsManager":[8115,5,251,115],"./httpsManager.js":[8115,5,251,115],"./manager":[4005,5],"./manager.js":[4005,5],"./safariManager":[6315,5,315],"./safariManager.js":[6315,5,315],"./urlSessionManager":[7809,5,809],"./urlSessionManager.js":[7809,5,809],"./walletManager":[2217,5,217],"./walletManager.js":[2217,5,217]};function r(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(i)},r.id=3564,e.exports=r}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var i={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var r=2&t&&e;"object"==typeof r&&!~leafPrototypes.indexOf(r);r=getProto(r))Object.getOwnPropertyNames(r).forEach((function(t){i[t]=function(){return e[t]}}));return i.default=function(){return e},__webpack_require__.d(n,i),n},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,n){return __webpack_require__.f[n](e,t),t}),[]))},__webpack_require__.u=function(e){return"chunk/"+e+"."+{5:"7bf12eb14858c1f4fd98",8:"7d0faceafb24a4287019",34:"0119b66e709d8115e100",103:"ca34caf4a7c7f94a245a",115:"45e07019e1b45bb84052",217:"543c812d7b7b9d0427f2",240:"8665aea2929e55fe3a8c",251:"ff5b3c0c290e9961835b",315:"095b3ee2a4676ea1eb5e",335:"c237fdc12a6318904159",376:"8cab31ffc2b64b495b06",407:"997a9a798853a61f7e13",411:"c62da7dbdb6b237a02b5",436:"175ba0648d6d3193496a",451:"f2b1a8034b7caf543277",453:"a9b1c8eb8bf00aa708da",467:"7b8122cdb1e2a2df2b71",491:"5f326eabd1c4824d8e01",498:"893d701f72b877057a9e",499:"9985a935289708bf13c2",537:"4f471d421e763248096e",597:"48ddfac9eb02d11eed66",600:"fb8a9206d4ca6d97fa1d",699:"d323240290f0409c28d9",720:"da266ba8d9bc4aa9c01f",728:"9c96faf765f9eb32cc45",737:"1c9280a231d4e50c4246",754:"8f59ede6bb19cc471de6",809:"f24974bae15c54a0385a",818:"499454a46963d5f16bce",862:"9b77f74e899e8083f8b8",866:"b2f0a9d3a8b1ebde3ee7",971:"c4307cdb8aea256f997f"}[e]+".js"},__webpack_require__.miniCssF=function(e){},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},inProgress={},dataWebpackPrefix="@cleverpush/cleverpush-js-sdk:",__webpack_require__.l=function(e,t,n,i){if(inProgress[e])inProgress[e].push(t);else{var r,o;if(void 0!==n)for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var _=a[s];if(_.getAttribute("src")==e||_.getAttribute("data-webpack")==dataWebpackPrefix+n){r=_;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,__webpack_require__.nc&&r.setAttribute("nonce",__webpack_require__.nc),r.setAttribute("data-webpack",dataWebpackPrefix+n),r.src=e),inProgress[e]=[t];var c=function(t,n){r.onerror=r.onload=null,clearTimeout(u);var i=inProgress[e];if(delete inProgress[e],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((function(e){return e(n)})),t)return t(n)},u=setTimeout(c.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=c.bind(null,r.onerror),r.onload=c.bind(null,r.onload),o&&document.head.appendChild(r)}},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="https://static.cleverpush.com/sdk/",function(){__webpack_require__.b=document.baseURI||self.location.href;var e={370:0};__webpack_require__.f.j=function(t,n){var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise((function(n,r){i=e[t]=[n,r]}));n.push(i[2]=r);var o=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(o,(function(n){if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",a.name="ChunkLoadError",a.type=r,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=function(t,n){var i,r,o=n[0],a=n[1],s=n[2],_=0;for(i in a)__webpack_require__.o(a,i)&&(__webpack_require__.m[i]=a[i]);if(s)s(__webpack_require__);for(t&&t(n);_<o.length;_++)r=o[_],__webpack_require__.o(e,r)&&e[r]&&e[r][0](),e[o[_]]=0},n=self.webpackChunk_cleverpush_cleverpush_js_sdk=self.webpackChunk_cleverpush_cleverpush_js_sdk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__={};!function(){"use strict";var e,t=__webpack_require__(8927),n=__webpack_require__(484),i=__webpack_require__(6128),r=__webpack_require__(1078);if(window.__cleverPushSdkLoadCount=(window.__cleverPushSdkLoadCount||0)+1,window.__cleverPushSdkLoadCount>1)r.cM.warn("The SDK is included more than once. Please only load the CleverPush SDK once in your code.");else if("object"===(0,n.Z)(window.CleverPush)&&Array.isArray(window.CleverPush)&&(e=(0,t.Z)(window.CleverPush)),(void 0===window.CleverPush||"object"===(0,n.Z)(window.CleverPush)&&Array.isArray(window.CleverPush))&&(window.CleverPush=new i.Z),e)for(var o=0;o<e.length;o+=1)window.CleverPush.executeFunction(e[o]);"undefined"!=typeof Symbol&&Object.defineProperty(Array.prototype,Symbol.toStringTag,{value:"Array"})}()})();
//# sourceMappingURL=https://static.cleverpush.com/sdk/cleverpush.js.map
CleverPush.init({"loadConfig":false,"environment":"production","apiEndpoint":"https://api.cleverpush.com","geoipApiEndpoint":"https://geoip-api.cleverpush.com/","staticEndpoint":"https://static.cleverpush.com","autoRegister":false,"channelId":"9nsSYmLaJtzaNE2ay","channelName":"statista.com","channelIcon":"https://static.cleverpush.com/notification/icon/EhNwfNGWbHYpG7F6t.png","channelTopics":[{"_id":"grbhQz2bEGwJ8cBtd","name":"Consumer Market updates","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"},{"_id":"zSwrbmoHaYZ8euoZ5","name":"Digital Market updates","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"},{"_id":"Pyj3iwpET8QyXGCZb","name":"E-Commerce insights","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"},{"_id":"xvAKwv2mYxLEJWinx","name":"Infographics updates","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"},{"_id":"35mCBjGQPAtuKTMoq","name":"Product updates","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"}],"channelTags":[{"_id":"Yei2GAiBJBRgCMAqE","name":"Anonymous users","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-03-25T09:11:08.570Z"},{"_id":"5C5jWg548Mhg3hSf3","name":"Paying users (PA, CA, EA)","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-03-25T09:11:08.570Z"},{"_id":"LoXwAgb3MoZRuZz7t","name":"Report 123","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-10-21T09:22:56.809Z","autoAssignFunction":null,"autoAssignPath":"/study/9644/automotive-industry-statista-dossier/","autoAssignSelector":null},{"_id":"Wpt6eugyuL5bYSgzY","name":"Sneakers","channel":["RT7Wu6RSDJHXbieLQ","vHd3Gg6paZ6Z2sdZQ","jx85zWQ4Wr2LfHFt9","9nsSYmLaJtzaNE2ay","G3SdN5AngdWeT68qK"],"createdAt":"2023-01-19T14:15:20.836Z","autoAssignFunction":null,"autoAssignPath":"sneakers","autoAssignSeconds":5,"autoAssignSelector":null,"autoAssignVisits":2,"shared":true},{"_id":"qibrEQdiDfHLfZgG4","name":"e-Commerce","channel":["9nsSYmLaJtzaNE2ay","vHd3Gg6paZ6Z2sdZQ","jx85zWQ4Wr2LfHFt9","RT7Wu6RSDJHXbieLQ"],"createdAt":"2023-06-22T09:19:28.674Z","autoAssignFunction":null,"autoAssignPath":"e-commerce","autoAssignSelector":null,"shared":true}],"channelEvents":[{"_id":"Rmy6syDZHTMCohdG5","channel":"9nsSYmLaJtzaNE2ay","name":"Bestellbestätigung","triggerType":"path","triggerPath":"/checkout/thank-you"}],"multiChannels":{},"customAttributes":[],"alertTimeout":3000,"alertOncePerSession":true,"alertMinimumVisits":2,"alertScrollPercentage":0,"confirmAlertTheme":"cleverpush-confirm-default","confirmAlertThemeVariant":"cleverpush-confirm-auto","confirmAlertThemeBackground":"","confirmAlertThemeBackgroundColor":"","confirmAlertThemeTextColor":"","confirmAlertThemeLinkColor":"","confirmAlertThemeButtonTextColor":"","confirmAlertNativeTheme":"cleverpush-confirm-topbar-slim","confirmAlertBackdrop":true,"confirmAlertBackdropBlur":false,"confirmAlertBackdropOpacity":0.75,"confirmAlertTests":[],"confirmAlertRequireChannelTopics":true,"confirmAlertHideChannelTopics":true,"confirmAlertStyle":{"backgroundColor":"","color":""},"confirmAlertTitleStyle":{},"confirmAlertLinkStyle":{"color":""},"confirmAlertButtonStyle":{"backgroundColor":"#0077d5","color":"#ffffff","fontWeight":"600"},"confirmAlertAllowButtonStyle":{"backgroundColor":"#0077d5","color":"#ffffff"},"confirmAlertFilters":[{"config":{},"type":"path","value":"\\/(perspectiva|outlook|perspective)\\/(consumer|digital|mobility|country|technology|advertising|industry)-(markets|outlook|media)","autoRegister":false},{"config":{},"type":"path","value":"\\/customercloud\\/global-consumer-survey"},{"config":{},"type":"path","value":"\\/(topics|temas|themen|themes)\\/[0-9]+\\/"},{"config":{},"type":"path","value":"\\/(recherche|search|statistic\\/suche|buscar)\\/"},{"config":{},"type":"path","value":"\\/(perspectiva\\/outlook|outlook|perspective\\/outlook)\\/[0-9]+\\/"}],"url":"https://https://www.statista.com//subscribe","alertLocalization":{"title":"Notifications about topics of your interest","info":"By subscribing to our notifications you allow us to keep you updated about our products . You can  revoke your consent at any time. Stay tuned.","allow":"Allow","confirmInfo":"Confirm information","deny":"Deny"},"ownDomain":true,"domain":"https://www.statista.com/","subdomain":"statistacomdev","cleverpushDomain":"cleverpush.com","vapidPublicKey":"BH5yJkGeqT_FyrZ8gf0S8Gq1nwXgm8n928RptXbNG0m_4MmBadsb_uxtVcR6flvAuOn6zdwqWBUhRS7-oiF5784","showConfirmAlert":true,"showConfirmAlertMobile":false,"hideBranding":false,"hideFaqLink":false,"faqUrl":"https://cleverpush.com/faq","privacyPolicyText":"Privacy policy","privacyPolicyUrl":"https://www.statista.com/imprint/#privacy","showNotificationBell":false,"hideNotificationBellMobile":false,"hideNotificationBellSubscribed":false,"notificationBellColor":"#42a2f2","serviceWorkerFile":"/cleverpush/en/cleverpush-worker.js","safariWebsitePushId":"web.com.statista","safariWebServiceUrl":"https://api.cleverpush.com/channel/9nsSYmLaJtzaNE2ay/safari","origin":"https://https://www.statista.com/","loadIframe":true,"trackSessions":false,"pageBannerNotifications":[],"webBanners":[],"widgets":[],"followUpCampaigns":[],"emailOptInForms":[],"notificationCategoryGroups":[],"chatWidgetButtonName":"Support","chatWidgetThemeColor":"#42a2f2","preventDuplicateEnabled":false,"appDownloadBanner":{},"homeScreenBanner":{},"voucherPools":[],"journeys":[]});